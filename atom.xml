<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>李昕垚|Xinyao Li</title>
  
  <subtitle>岁寒然后知松柏之后凋也</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.xinyao.pub/"/>
  <updated>2019-05-11T12:19:38.983Z</updated>
  <id>http://www.xinyao.pub/</id>
  
  <author>
    <name>李昕垚</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>三国演义之优柔寡断的何进</title>
    <link href="http://www.xinyao.pub/2019/04/19/2019-04-19-three-kingdom1/"/>
    <id>http://www.xinyao.pub/2019/04/19/2019-04-19-three-kingdom1/</id>
    <published>2019-04-18T16:00:00.000Z</published>
    <updated>2019-05-11T12:19:38.983Z</updated>
    
    <content type="html"><![CDATA[<p>最近几年，微信、头条、百度等企业都在提 <strong>内容生态建设</strong>，建生态是为了自己当上帝，把内容生产者和消费者都圈到自己的圈子里来玩。我在琢磨内容生态的特点时，又又又一次感受到对于个人成长而言，知识的 <strong>深度</strong> 要优先于 <strong>广度</strong>。思考的越深，越能融汇贯通。于是我计划续读《三国演义》，理解其中的妙趣。同时从人物及观点这两个线条出发，写一些读书笔记。目标是自己能对三国有更深的了解，对故事信手拈来，对人性理解到位。</p><a id="more"></a><p>东汉末年，汉灵帝宠信宦官，民不聊生。在这个背景下，爆发了以张角为首的大规模农民起义。何进作为汉灵帝的小舅子，第一时间站出来替小舅子擦屁股，完全是一个办事能力强且效率奇高的好员工。《三国演义》中这么描写：<strong>“四方百姓，裹黄巾从张角反者四五十万。贼势浩大，官军望风而靡。何进奏帝火速降诏，令各处备御，讨贼立功。一面遣中郎将卢植、皇甫嵩、朱儁，各引精兵、分三路讨之。”</strong></p><p>假设何大将军剿灭黄巾起义，再诛除宦官，日后封侯称王，都未可知。但事实是这样的，何进同志不知是何原因，突然优柔寡断了。居庙堂之高，掌大将军之权，把一把好牌打的稀烂，最后落得被宦官惨杀。</p><p>当汉灵帝驾崩，十常侍准备铲除何进，立刘协为太子时，何进还是很清醒的。他带领精兵进入宫禁，在汉灵帝棺材前，把自己的亲外甥刘辩扶上了皇帝位。正准备诛杀宦官时，自己的亲妹妹何太后发话，让他放宦官一马。何进居然乖乖听从了建议，放过了想要致自己于死地的宦官集团。这是第一次优柔寡断</p><p>当宦官散步何进害死董太后的流言时，袁绍建议何进再一次启动诛杀宦官的计划。但这次计划又在何进妹妹的劝阻下流产了。这是第二次优柔寡断</p><p>接着，袁绍开始出昏招了，想让外藩带兵进京，逼迫何太后除掉宦官，曹操对此表示极力劝阻。因为杀几个宦官，何大将军可以自己带兵随便杀，没必要让外藩来扰乱秩序。让外藩进京，反而会引起宦官警觉。</p><p>果然，宦官头子张让知道董卓带兵到后，决心先下手为强，干掉何进。张让促使何太后下诏，召何进入宫。袁绍曹操都劝阻说，这次宦官肯定有埋伏。何进这时候却自信心爆棚，很耿直的昂首直入，结果被宫内宦官埋伏好的刀斧手，乱刀砍死。</p><p>看完何进的故事，得到两点启发。第一点是 <strong>果断</strong>，遇到事情时要判断利弊迅速决断。第二点是 <strong>纳言</strong>，别人给你建议时一定要全面思考，采纳良言，不能凭感觉来决策。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近几年，微信、头条、百度等企业都在提 &lt;strong&gt;内容生态建设&lt;/strong&gt;，建生态是为了自己当上帝，把内容生产者和消费者都圈到自己的圈子里来玩。我在琢磨内容生态的特点时，又又又一次感受到对于个人成长而言，知识的 &lt;strong&gt;深度&lt;/strong&gt; 要优先于 &lt;strong&gt;广度&lt;/strong&gt;。思考的越深，越能融汇贯通。于是我计划续读《三国演义》，理解其中的妙趣。同时从人物及观点这两个线条出发，写一些读书笔记。目标是自己能对三国有更深的了解，对故事信手拈来，对人性理解到位。&lt;/p&gt;
    
    </summary>
    
      <category term="文学" scheme="http://www.xinyao.pub/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="三国" scheme="http://www.xinyao.pub/tags/%E4%B8%89%E5%9B%BD/"/>
    
      <category term="何进" scheme="http://www.xinyao.pub/tags/%E4%BD%95%E8%BF%9B/"/>
    
      <category term="文学" scheme="http://www.xinyao.pub/tags/%E6%96%87%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>怎样成为演讲高手</title>
    <link href="http://www.xinyao.pub/2019/03/25/2019-03-25-speech-skills/"/>
    <id>http://www.xinyao.pub/2019/03/25/2019-03-25-speech-skills/</id>
    <published>2019-03-24T16:00:00.000Z</published>
    <updated>2019-05-11T12:42:44.657Z</updated>
    
    <content type="html"><![CDATA[<p>学生时代注重逻辑能力和记忆能力，这俩能力都强的同学，会有不错的学习成绩。工作后不同，逻辑和记忆能力好但晋升失败的，大有人在，我把失败原因的归咎于 <strong>表达能力</strong>。我甚至认为“表达能力”比“逻辑能力”更重要。大咖的演讲妙趣横生，而自己的表达辞不达意。在羡慕他人的同时，也想知道自己的缺陷在哪里，怎么样来弥补。于是开始学习《怎样成为演讲高手》的课程，希望能解答心中的疑问。</p><a id="more"></a><h1 id="为什么要学会演讲"><a href="#为什么要学会演讲" class="headerlink" title="为什么要学会演讲"></a>为什么要学会演讲</h1><ul><li>演讲可以培养逻辑思维能力，让人能逻辑清晰的将信息传递给听众</li><li>演讲可以提高情商，能引发听众的情感共鸣</li><li>演讲可以建立个人品牌，能让自己有优于他人的特质</li></ul><h1 id="带你认识演讲的本质"><a href="#带你认识演讲的本质" class="headerlink" title="带你认识演讲的本质"></a>带你认识演讲的本质</h1><p>演讲的本质是输出。演讲和计算机的信息传递是一样的，<strong>接受信息-&gt;知识储备-&gt;表达 不就是 输入-&gt;存储-&gt;输出</strong> 吗？</p><p>提高演讲效率的6招：</p><p>内容方面</p><ol><li>演讲内容结构化。表达3个要点。</li><li>舍得做减法。先把演讲的要点认真删掉1/3，再把剩下的内容删掉一半。保证听众的接收效率。</li><li>提供可视化信息。PPT做好，一图胜千言。</li></ol><p>表达方面</p><ol><li>口语化。口语化是要从听众的角度考虑，先讲一遍，将口语记录下来，整理成讲稿。</li><li>控制语速。想象在跟20米以外的人讲话，语速自然就慢下来了。</li><li>生动化。每一个论点，都要引发听众脑子里的一个画面，这才是生动的唯一检验标准。</li></ol><h1 id="明确演讲的目标"><a href="#明确演讲的目标" class="headerlink" title="明确演讲的目标"></a>明确演讲的目标</h1><p>判断演讲成功与否，关键是要看演讲的目标是否达成</p><p>目标一般要考虑以下内容：</p><ol><li>我为什么做这个演讲？<br>演讲常见的目的有：告知、说服、激励、娱乐、传播、教育，难度由低到高</li><li>听众是谁？他们关注什么？</li><li>你希望演讲之后能让观众做什么？</li></ol><p>注意只能设置一个目标，超过一个目标就等于没有目标。将你的演讲目标归纳为一句话，反复使用。比如“我有一个梦想”，就会想起马丁路德金。</p><h1 id="演讲的结构"><a href="#演讲的结构" class="headerlink" title="演讲的结构"></a>演讲的结构</h1><ul><li>黄金圈法则。由内到外，why（我为什么做这个项目）、how（我怎么做的）、what（项目的具体特征）</li><li>PREP结构（总分总）。point（观点）、reason（理由）、example（案例）、point（再次讲观点）</li><li>时间轴结构。过去-现在-未来。适合CEO的气势磅薄的演讲</li><li>金字塔原则。问题、原因、对策、结果</li></ul><h1 id="演讲就是讲故事"><a href="#演讲就是讲故事" class="headerlink" title="演讲就是讲故事"></a>演讲就是讲故事</h1><p>三个关键词培养故事思维：收集者、开放心态（自嘲）、多维视角</p><p>一个好故事的三个要素：</p><ol><li>简单而清晰的背景</li><li>人物和互动</li><li>情节曲折</li></ol><p>准备自己的百搭故事</p><h1 id="如何在演讲前克服紧张"><a href="#如何在演讲前克服紧张" class="headerlink" title="如何在演讲前克服紧张"></a>如何在演讲前克服紧张</h1><p>紧张是人的一种应急反应。原始人到了陌生环境，会有生命危险，所以原始人会非常紧张，准备随时逃跑。这种紧张的基因遗传了下来，今天的人们到了陌生环境、遇到陌生人，还是会有紧张感。追究紧张的原因后，有以下3点可以克服紧张：</p><ol><li>熟悉环境，提前到场</li><li>了解观众，设置积极的心理暗示，观众都是亲戚朋友</li><li>熟悉演讲内容，解除内容的不确定性。口语化-&gt;录音-&gt;文字稿迭代；视觉化记忆，讲稿转化为脑海中的几张幻灯片</li></ol><p>8个窍门：</p><ol><li>提前30分钟到场，熟悉环境</li><li>和现场观众聊天</li><li>和亲朋好友打个电话，聊一下演讲的事情</li><li>练习对话模式，不是沉浸在PPT里</li><li>喝红酒放松</li><li>积极暗示</li><li>一次录音和录像</li><li>预讲</li><li>演讲的开场和结尾</li></ol><p>怎么开场：</p><ol><li>引用。引用名人名言，别人说过的话等等</li><li>回顾。</li><li>讲故事。</li><li>提问。设置一个角色让听众代入，并且做出二选一的选择</li></ol><p>开场避免：</p><ol><li>前戏太长</li><li>细节太多、过于琐碎</li><li>调起高了</li></ol><p>怎么结尾：</p><ol><li>重复。高密度的排比句，演讲金句</li><li>积极召唤。可以快速且便利实施的召唤</li><li>送出“礼物”。一句忠告、一个笑话、一个故事、一个金句</li></ol><h1 id="幽默"><a href="#幽默" class="headerlink" title="幽默"></a>幽默</h1><p>观众感觉到优越感或者逻辑的意外时，就会哈哈大笑。所以可以从以下几点营造幽默感：</p><ol><li>自嘲</li><li>一语双关</li><li>一本正经的胡说八道</li></ol><p>平时还要：</p><ol><li>多攒段子库存</li><li>多测试</li><li>多设想场景来随机应变</li></ol><h1 id="演讲中的幻灯片"><a href="#演讲中的幻灯片" class="headerlink" title="演讲中的幻灯片"></a>演讲中的幻灯片</h1><ol><li>开门三件事。演讲目标、核心内容、结构</li><li>图像化设计</li><li>奥卡姆剃刀。如无必要，勿增实体。</li><li>无审美不成片</li></ol><h1 id="像明星一样的舞台呈现"><a href="#像明星一样的舞台呈现" class="headerlink" title="像明星一样的舞台呈现"></a>像明星一样的舞台呈现</h1><p>如何借鉴偶像效应？</p><ol><li>可信赖的扮相</li><li>给出炯炯有神的眼神</li><li>给出自己的节奏，每分钟200字</li><li>开放式的身体语言。两脚与肩膀同宽站直，面朝观众，放松、微笑，手势打开</li></ol><h1 id="打造自己的演讲风格"><a href="#打造自己的演讲风格" class="headerlink" title="打造自己的演讲风格"></a>打造自己的演讲风格</h1><ol><li>扬长避短</li><li>价值观输出</li><li>真诚。眼神、语气、愿意打开自己</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;学生时代注重逻辑能力和记忆能力，这俩能力都强的同学，会有不错的学习成绩。工作后不同，逻辑和记忆能力好但晋升失败的，大有人在，我把失败原因的归咎于 &lt;strong&gt;表达能力&lt;/strong&gt;。我甚至认为“表达能力”比“逻辑能力”更重要。大咖的演讲妙趣横生，而自己的表达辞不达意。在羡慕他人的同时，也想知道自己的缺陷在哪里，怎么样来弥补。于是开始学习《怎样成为演讲高手》的课程，希望能解答心中的疑问。&lt;/p&gt;
    
    </summary>
    
      <category term="个人能力" scheme="http://www.xinyao.pub/categories/%E4%B8%AA%E4%BA%BA%E8%83%BD%E5%8A%9B/"/>
    
    
      <category term="个人能力" scheme="http://www.xinyao.pub/tags/%E4%B8%AA%E4%BA%BA%E8%83%BD%E5%8A%9B/"/>
    
      <category term="演讲" scheme="http://www.xinyao.pub/tags/%E6%BC%94%E8%AE%B2/"/>
    
  </entry>
  
  <entry>
    <title>囚徒困境</title>
    <link href="http://www.xinyao.pub/2019/02/15/2019-02-15-prisoner-dilemma/"/>
    <id>http://www.xinyao.pub/2019/02/15/2019-02-15-prisoner-dilemma/</id>
    <published>2019-02-14T16:00:00.000Z</published>
    <updated>2019-05-11T08:51:21.895Z</updated>
    
    <content type="html"><![CDATA[<p>《经济学的思维方式》中讲述“市场与政府”时，提到 <strong>囚徒困境</strong> 的概念。“囚徒困境”言简意赅的描述是：每个人都做出了理性的决策，但整体结果却不理性。<br>每个人都希望有一个更优质的政府，甚至可以承受自己做牺牲（比如每天花一些时间来监督政府官员的行为）。但结果可能事与愿违，更优质的政府不会产生，原因有两点：1、自己的选票不足以影响选举，不花时间监督官员的大多数人会影响选举的结果，所以自己不愿意花时间；2、如果自己不花时间去监督官员，其他人都去花时间监督官员，选举的官员依然是优质的，所以自己不愿意花时间，而是想搭便车。最后的结果是大家都不愿意花时间监督官员，更优质的政府也不会产生。</p><a id="more"></a><h1 id="囚徒困境的产生"><a href="#囚徒困境的产生" class="headerlink" title="囚徒困境的产生"></a>囚徒困境的产生</h1><p>1950年，就职于兰德公司的梅里尔·弗勒德（MerrillFlood）和梅尔文·德雷希尔（MelvinDresher）拟定出理论，后来由顾问艾伯特·塔克（AlbertTucker）以囚徒方式阐述，并命名为“囚徒困境”。经典的囚徒困境如下：</p><p>警方逮捕甲、乙两名嫌疑犯，但没有足够证据指控二人入罪。于是警方分开囚禁嫌疑犯，分别和二人见面，并向双方提供以下相同的选择：</p><ol><li>若一人认罪并作证检控对方（相关术语称“背叛”对方），而对方保持沉默，此人将即时获释，沉默者将判监10年</li><li>若二人都保持沉默（相关术语称互相“合作”），则二人同样判监1年</li><li>若二人都互相检举（相关术语称互相“背叛”），则二人同样判监8年</li></ol><p>最后的结果是双方互相检举，两个人都被判8年</p><h1 id="生活中的囚徒困境"><a href="#生活中的囚徒困境" class="headerlink" title="生活中的囚徒困境"></a>生活中的囚徒困境</h1><ul><li>环保。每个人都想让环境变的更好，但环境依然很差</li><li>选举。每个人都想让有为的官员上任，但依然会被贿选</li><li>大锅饭。每个人都想让企业变好，但依然会享受偷懒，不做事还能吃好饭</li></ul><h1 id="解决问题的方法"><a href="#解决问题的方法" class="headerlink" title="解决问题的方法"></a>解决问题的方法</h1><p>解决问题的方法就是以强制手段来明确责任。打破大锅饭、产权改革都是通过明确奖惩解放了生产力，焕发了活力。但有些问题由于交易成本过高，无法通过强制手段解决。比如选举，无法监督每个人是不是选了工作能力最强、最有为的人</p><p>在工作中经常会有这样的案例，老板把一件事情的责任会拆分给好几个人。一件事情搞砸了，A负30%的责任，B负30%的责任，C负40%的责任。其实这里就出现责任不明确的问题了，没有一个人来总揽全局，过程中很容易互相推诿踢皮球的现象</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;《经济学的思维方式》中讲述“市场与政府”时，提到 &lt;strong&gt;囚徒困境&lt;/strong&gt; 的概念。“囚徒困境”言简意赅的描述是：每个人都做出了理性的决策，但整体结果却不理性。&lt;br&gt;每个人都希望有一个更优质的政府，甚至可以承受自己做牺牲（比如每天花一些时间来监督政府官员的行为）。但结果可能事与愿违，更优质的政府不会产生，原因有两点：1、自己的选票不足以影响选举，不花时间监督官员的大多数人会影响选举的结果，所以自己不愿意花时间；2、如果自己不花时间去监督官员，其他人都去花时间监督官员，选举的官员依然是优质的，所以自己不愿意花时间，而是想搭便车。最后的结果是大家都不愿意花时间监督官员，更优质的政府也不会产生。&lt;/p&gt;
    
    </summary>
    
      <category term="经济学" scheme="http://www.xinyao.pub/categories/%E7%BB%8F%E6%B5%8E%E5%AD%A6/"/>
    
    
      <category term="生活" scheme="http://www.xinyao.pub/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="经济学" scheme="http://www.xinyao.pub/tags/%E7%BB%8F%E6%B5%8E%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>R语言与主成分分析</title>
    <link href="http://www.xinyao.pub/2018/08/28/2018-08-28-r-pca/"/>
    <id>http://www.xinyao.pub/2018/08/28/2018-08-28-r-pca/</id>
    <published>2018-08-27T16:00:00.000Z</published>
    <updated>2019-06-27T03:59:13.787Z</updated>
    
    <content type="html"><![CDATA[<p><strong>主成分分析</strong> 不但是多元统计分析的重要部分，而且在日常的数据分析工作中也发挥着重要作用。以下详细介绍主成分分析的原理和R语言实践。</p><a id="more"></a><h1 id="PCA有什么用？"><a href="#PCA有什么用？" class="headerlink" title="PCA有什么用？"></a>PCA有什么用？</h1><p><strong>主成分分析</strong> （principal component analysis） 简称 <em>PCA</em>，主要通过变量的降维，将复杂问题简单化，方便理解现状及进一步分析。降维的思想很常见，以 <em>均值</em> 为例，由于我们无法理解较多数字的含义，用一个均值来表达较多数字的信息，这就是很朴素的降维思想。</p><p>举个例子，以下是几个学生各科的成绩。我们很容易得出 <em>学生成绩的好坏主要由数学和物理决定</em> 的结论。其实这个结论已经蕴含了主成分分析的思想，将4个变量简化为2个，复杂的问题变的简单</p><div class="table-container"><table><thead><tr><th style="text-align:center">学生</th><th style="text-align:center">语文</th><th style="text-align:center">数学</th><th style="text-align:center">英语</th><th style="text-align:center">物理</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:center">90</td><td style="text-align:center">100</td><td style="text-align:center">110</td><td style="text-align:center">80</td></tr><tr><td style="text-align:center">B</td><td style="text-align:center">90</td><td style="text-align:center">90</td><td style="text-align:center">110</td><td style="text-align:center">90</td></tr><tr><td style="text-align:center">C</td><td style="text-align:center">90</td><td style="text-align:center">140</td><td style="text-align:center">110</td><td style="text-align:center">100</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">90</td><td style="text-align:center">150</td><td style="text-align:center">110</td><td style="text-align:center">85</td></tr><tr><td style="text-align:center">E</td><td style="text-align:center">90</td><td style="text-align:center">70</td><td style="text-align:center">110</td><td style="text-align:center">65</td></tr><tr><td style="text-align:center">F</td><td style="text-align:center">90</td><td style="text-align:center">65</td><td style="text-align:center">110</td><td style="text-align:center">75</td></tr><tr><td style="text-align:center">G</td><td style="text-align:center">90</td><td style="text-align:center">105</td><td style="text-align:center">110</td><td style="text-align:center">85</td></tr><tr><td style="text-align:center">H</td><td style="text-align:center">90</td><td style="text-align:center">125</td><td style="text-align:center">110</td><td style="text-align:center">95</td></tr></tbody></table></div><p>但是各科成绩变为以下数据，结论还能轻易得出吗？</p><div class="table-container"><table><thead><tr><th style="text-align:center">学生</th><th style="text-align:center">语文</th><th style="text-align:center">数学</th><th style="text-align:center">英语</th><th style="text-align:center">物理</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:center">55</td><td style="text-align:center">100</td><td style="text-align:center">110</td><td style="text-align:center">80</td></tr><tr><td style="text-align:center">B</td><td style="text-align:center">65</td><td style="text-align:center">90</td><td style="text-align:center">100</td><td style="text-align:center">90</td></tr><tr><td style="text-align:center">C</td><td style="text-align:center">95</td><td style="text-align:center">140</td><td style="text-align:center">90</td><td style="text-align:center">100</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">120</td><td style="text-align:center">150</td><td style="text-align:center">75</td><td style="text-align:center">85</td></tr><tr><td style="text-align:center">E</td><td style="text-align:center">140</td><td style="text-align:center">70</td><td style="text-align:center">130</td><td style="text-align:center">65</td></tr><tr><td style="text-align:center">F</td><td style="text-align:center">80</td><td style="text-align:center">65</td><td style="text-align:center">99</td><td style="text-align:center">75</td></tr><tr><td style="text-align:center">G</td><td style="text-align:center">99</td><td style="text-align:center">105</td><td style="text-align:center">105</td><td style="text-align:center">85</td></tr><tr><td style="text-align:center">H</td><td style="text-align:center">95</td><td style="text-align:center">125</td><td style="text-align:center">110</td><td style="text-align:center">95</td></tr></tbody></table></div><p>现在就能体现主成分分析的价值了，主成分与指标的关系如下：</p><ol><li>主成分是原始变量的线性组合</li><li>主成分的个数要小于原始变量的个数</li><li>主成分保留了原始变量的大部分信息</li><li>各个主成分互不相关</li></ol><h1 id="PCA的原理"><a href="#PCA的原理" class="headerlink" title="PCA的原理"></a>PCA的原理</h1><h2 id="PCA的几何原理"><a href="#PCA的几何原理" class="headerlink" title="PCA的几何原理"></a>PCA的几何原理</h2><p>要描述如下的原始数据，需要x和y两个指标，如果将坐标轴做个旋转，保留长轴信息舍弃短轴信息，那么就可以用一个指标描述原始数据，在尽量保留信息的情况下，简化了指标。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2018/pca/pca1.png" alt></p><p>主成分分析的本质就是进行坐标系的旋转，各个主成分就是新坐标系和原坐标系的转换关系。</p><h2 id="PCA的统计学原理"><a href="#PCA的统计学原理" class="headerlink" title="PCA的统计学原理"></a>PCA的统计学原理</h2><p>统计学求解主成分，一般用 <em>最大方差法</em> ，很容易理解，我们原始数据的投影能尽量包含原始数据的信息，这就要求投影分散的最开，反映到公式上就是方差最大。</p><p>有 $p$ 维随机向量 $\textbf{X} = {\left ( X_{1},X_{2},\cdot \cdot \cdot ,X_{p} \right )}’$ ，随机向量 $\textbf{X}$ 的协方差矩阵为 $\Sigma$</p><p>对 $\textbf{X}$ 进行线性变换，形成新的综合变量，用 $\textbf{Y}$ 来表示，即</p><script type="math/tex; mode=display">\left\{\begin{array}{c}Y_{1} = u_{11}X_{1} + u_{21}X_{2} + \cdot \cdot \cdot +u_{p1}X_{p} \\Y_{2} = u_{12}X_{1} + u_{22}X_{2} + \cdot \cdot \cdot +u_{p2}X_{p} \\\cdot \cdot \cdot \cdot \cdot \cdot \\Y_{p} = u_{1p}X_{1} + u_{2p}X_{2} + \cdot \cdot \cdot +u_{pp}X_{p}\end{array}\right.</script><p>目标是 $Y_{i} = \textbf u_{i}’ \textbf X$ 的方差尽可能大，且各 $Y_{i}$ 之间互不相关</p><p>由于 $var(Y_{i}) = var(\textbf u_{i}’ \textbf X) = \textbf u_{i}’ \Sigma \textbf u_{i}$ 可以任意大，问题变的没有意义。所以增加约束条件 $\textbf u_{i}’ \textbf u_{i} = 1 $</p><p>问题变为：</p><script type="math/tex; mode=display">\begin{cases}max  &  \textbf u_{i}' \Sigma \textbf u_{i} \\s.t. & \textbf u_{i}' \textbf u_{i} = 1\end{cases}</script><p>引入拉格朗日乘子，将求最大方差问题变为求 $f$ 的平稳点</p><script type="math/tex; mode=display">f(u,\lambda ) = {u}'\Sigma u + \lambda(1-{u}'u)</script><p>对 $f$ 求偏导，得</p><script type="math/tex; mode=display">\begin{cases}\frac{\partial f}{\partial u} = 2\Sigma u - 2\lambda u = 0 \\\frac{\partial f}{\partial \lambda} = 1 - {u}'u = 0\end{cases}</script><p>得</p><script type="math/tex; mode=display">\begin{cases}\Sigma u - \lambda u = 0 \\1 - {u}'u = 0\end{cases}</script><p>很神奇的是，问题变为求 $\Sigma $ 的特征值</p><p>且 ${u}’ \Sigma u = {u}’ \lambda u = \lambda {u}’ u = \lambda$</p><p>求最大方差变成了求最大特征值</p><p><em>note: 以上是从协方差阵出发，还有从相关阵出发的情况，可以证明原始数据的相关阵就是对原始数据标准化后的协方差阵</em></p><p><em>特征值求解见附录</em></p><h1 id="PCA的R语言实践"><a href="#PCA的R语言实践" class="headerlink" title="PCA的R语言实践"></a>PCA的R语言实践</h1><p><code>USJudgeRatings</code>数据集记录了律师对美国高等法院法官的评分，包括12个维度，数据如下：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; head(USJudgeRatings)</span><br><span class="line">               CONT INTG DMNR DILG CFMG DECI PREP FAMI ORAL</span><br><span class="line">AARONSON,L.H.   <span class="number">5.7</span>  <span class="number">7.9</span>  <span class="number">7.7</span>  <span class="number">7.3</span>  <span class="number">7.1</span>  <span class="number">7.4</span>  <span class="number">7.1</span>  <span class="number">7.1</span>  <span class="number">7.1</span></span><br><span class="line">ALEXANDER,J.M.  <span class="number">6.8</span>  <span class="number">8.9</span>  <span class="number">8.8</span>  <span class="number">8.5</span>  <span class="number">7.8</span>  <span class="number">8.1</span>  <span class="number">8.0</span>  <span class="number">8.0</span>  <span class="number">7.8</span></span><br><span class="line">ARMENTANO,A.J.  <span class="number">7.2</span>  <span class="number">8.1</span>  <span class="number">7.8</span>  <span class="number">7.8</span>  <span class="number">7.5</span>  <span class="number">7.6</span>  <span class="number">7.5</span>  <span class="number">7.5</span>  <span class="number">7.3</span></span><br><span class="line">BERDON,R.I.     <span class="number">6.8</span>  <span class="number">8.8</span>  <span class="number">8.5</span>  <span class="number">8.8</span>  <span class="number">8.3</span>  <span class="number">8.5</span>  <span class="number">8.7</span>  <span class="number">8.7</span>  <span class="number">8.4</span></span><br><span class="line">BRACKEN,J.J.    <span class="number">7.3</span>  <span class="number">6.4</span>  <span class="number">4.3</span>  <span class="number">6.5</span>  <span class="number">6.0</span>  <span class="number">6.2</span>  <span class="number">5.7</span>  <span class="number">5.7</span>  <span class="number">5.1</span></span><br><span class="line">BURNS,E.B.      <span class="number">6.2</span>  <span class="number">8.8</span>  <span class="number">8.7</span>  <span class="number">8.5</span>  <span class="number">7.9</span>  <span class="number">8.0</span>  <span class="number">8.1</span>  <span class="number">8.0</span>  <span class="number">8.0</span></span><br><span class="line">               WRIT PHYS RTEN</span><br><span class="line">AARONSON,L.H.   <span class="number">7.0</span>  <span class="number">8.3</span>  <span class="number">7.8</span></span><br><span class="line">ALEXANDER,J.M.  <span class="number">7.9</span>  <span class="number">8.5</span>  <span class="number">8.7</span></span><br><span class="line">ARMENTANO,A.J.  <span class="number">7.4</span>  <span class="number">7.9</span>  <span class="number">7.8</span></span><br><span class="line">BERDON,R.I.     <span class="number">8.5</span>  <span class="number">8.8</span>  <span class="number">8.7</span></span><br><span class="line">BRACKEN,J.J.    <span class="number">5.3</span>  <span class="number">5.5</span>  <span class="number">4.8</span></span><br><span class="line">BURNS,E.B.      <span class="number">8.0</span>  <span class="number">8.6</span>  <span class="number">8.6</span></span><br></pre></td></tr></table></figure><p>目标是把12个维度综合成几个主成分，在尽量保留信息的前提下实现降维</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断主成分的个数</span></span><br><span class="line">fa.parallel(USJudgeRatings,fa=<span class="string">"pc"</span>,n.iter=<span class="number">100</span>,show.legend=<span class="literal">T</span>,main=<span class="string">"Screen plot with parallel analysis"</span>)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2018/pca/pca2.png" alt></p><p>从蓝线看出，在2-&gt;3时，特征值变化放缓；从红线看出，红线以上的特征值对应的主成分是1。所以此例选择1个或2个主成分都是合理的，这里我们选2个主成分</p><p>从以下结果看出：</p><ol><li>R基于相关阵计算主成分</li><li>2个主成分解释了94%的方差</li><li>h2列为主成分对单个变量的解释程度，本例的解释程度都很强</li><li>PC1和PC2的系数是主成分载荷（loadings），指主成分和变量的相关系数</li><li>SS loadings为特征值</li><li>Cumulative Var为主成分对数据的解释程度</li></ol><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&gt; pc = principal(USJudgeRatings,</span><br><span class="line">+                nfactors=<span class="number">2</span>,</span><br><span class="line">+                rotate = <span class="string">"none"</span>)</span><br><span class="line">&gt; pc</span><br><span class="line">Principal Components Analysis</span><br><span class="line">Call: principal(r = USJudgeRatings, nfactors = <span class="number">2</span>, rotate = <span class="string">"none"</span>)</span><br><span class="line">Standardized loadings (pattern matrix) based upon correlation matrix</span><br><span class="line">       PC1   PC2   h2     u2 com</span><br><span class="line">CONT -<span class="number">0.01</span>  <span class="number">0.98</span> <span class="number">0.96</span> <span class="number">0.0390</span> <span class="number">1.0</span></span><br><span class="line">INTG  <span class="number">0.92</span> -<span class="number">0.19</span> <span class="number">0.88</span> <span class="number">0.1197</span> <span class="number">1.1</span></span><br><span class="line">DMNR  <span class="number">0.91</span> -<span class="number">0.21</span> <span class="number">0.88</span> <span class="number">0.1229</span> <span class="number">1.1</span></span><br><span class="line">DILG  <span class="number">0.97</span>  <span class="number">0.04</span> <span class="number">0.94</span> <span class="number">0.0599</span> <span class="number">1.0</span></span><br><span class="line">CFMG  <span class="number">0.96</span>  <span class="number">0.18</span> <span class="number">0.96</span> <span class="number">0.0410</span> <span class="number">1.1</span></span><br><span class="line">DECI  <span class="number">0.96</span>  <span class="number">0.13</span> <span class="number">0.94</span> <span class="number">0.0584</span> <span class="number">1.0</span></span><br><span class="line">PREP  <span class="number">0.98</span>  <span class="number">0.03</span> <span class="number">0.97</span> <span class="number">0.0287</span> <span class="number">1.0</span></span><br><span class="line">FAMI  <span class="number">0.98</span>  <span class="number">0.00</span> <span class="number">0.95</span> <span class="number">0.0469</span> <span class="number">1.0</span></span><br><span class="line">ORAL  <span class="number">1.00</span>  <span class="number">0.00</span> <span class="number">0.99</span> <span class="number">0.0091</span> <span class="number">1.0</span></span><br><span class="line">WRIT  <span class="number">0.99</span> -<span class="number">0.03</span> <span class="number">0.98</span> <span class="number">0.0184</span> <span class="number">1.0</span></span><br><span class="line">PHYS  <span class="number">0.89</span>  <span class="number">0.09</span> <span class="number">0.81</span> <span class="number">0.1927</span> <span class="number">1.0</span></span><br><span class="line">RTEN  <span class="number">0.99</span> -<span class="number">0.04</span> <span class="number">0.97</span> <span class="number">0.0258</span> <span class="number">1.0</span></span><br><span class="line">                        PC1  PC2</span><br><span class="line">SS loadings           <span class="number">10.13</span> <span class="number">1.10</span></span><br><span class="line">Proportion Var         <span class="number">0.84</span> <span class="number">0.09</span></span><br><span class="line">Cumulative Var         <span class="number">0.84</span> <span class="number">0.94</span></span><br><span class="line">Proportion Explained   <span class="number">0.90</span> <span class="number">0.10</span></span><br><span class="line">Cumulative Proportion  <span class="number">0.90</span> <span class="number">1.00</span></span><br><span class="line">Mean item complexity =  <span class="number">1</span></span><br><span class="line">Test of the hypothesis that <span class="number">2</span> components are sufficient.</span><br><span class="line">The root mean square of the residuals (RMSR) is  <span class="number">0.03</span></span><br><span class="line"> with the empirical chi square  <span class="number">4.46</span>  with prob &lt;  <span class="number">1</span></span><br><span class="line">Fit based upon off diagonal values = <span class="number">1</span></span><br></pre></td></tr></table></figure><p>以下是主成分得分的系数</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; pc$weights</span><br><span class="line">               PC1          PC2</span><br><span class="line">CONT -<span class="number">0.0009660187</span>  <span class="number">0.887804400</span></span><br><span class="line">INTG  <span class="number">0.0906447029</span> -<span class="number">0.173243022</span></span><br><span class="line">DMNR  <span class="number">0.0901211706</span> -<span class="number">0.188017467</span></span><br><span class="line">DILG  <span class="number">0.0956091216</span>  <span class="number">0.034550076</span></span><br><span class="line">CFMG  <span class="number">0.0950495297</span>  <span class="number">0.160255129</span></span><br><span class="line">DECI  <span class="number">0.0948356759</span>  <span class="number">0.121697038</span></span><br><span class="line">PREP  <span class="number">0.0971962573</span>  <span class="number">0.030672573</span></span><br><span class="line">FAMI  <span class="number">0.0963396287</span> -<span class="number">0.001251621</span></span><br><span class="line">ORAL  <span class="number">0.0982335093</span> -<span class="number">0.003450490</span></span><br><span class="line">WRIT  <span class="number">0.0977160877</span> -<span class="number">0.029862233</span></span><br><span class="line">PHYS  <span class="number">0.0881858990</span>  <span class="number">0.084734541</span></span><br><span class="line">RTEN  <span class="number">0.0973168144</span> -<span class="number">0.037478023</span></span><br></pre></td></tr></table></figure><p>PC1 = -0.0009660187CONT + 0.0906447029INTG +…+ 0.0973168144RTEN<br>PC2 = ……</p><h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="特征值求解示例"><a href="#特征值求解示例" class="headerlink" title="特征值求解示例"></a>特征值求解示例</h2><p>原始矩阵如下，用初等行列变换，求解特征值</p><script type="math/tex; mode=display">\begin{bmatrix}2 & -1 & 1 \\0 & 3 & -1 \\2 & 1 & 3 \\\end{bmatrix}</script><p>第一步，$\lambda $ 减去对角线元素，其余元素变负</p><script type="math/tex; mode=display">\begin{bmatrix}\lambda - 2 & 1 & -1 \\0 & \lambda - 3 & 1 \\-2 & -1 & \lambda - 3 \\\end{bmatrix}</script><p>第二步，第1列和第3列互换</p><script type="math/tex; mode=display">\begin{bmatrix}-1 & 1 & \lambda - 2 \\1 & \lambda - 3 & 0 \\\lambda - 3 & -1 & -2 \\\end{bmatrix}</script><p>第三步，第1列乘 $\lambda - 2$ 加到第3列</p><script type="math/tex; mode=display">\begin{bmatrix}-1 & 1 & 0 \\1 & \lambda - 3 & \lambda - 2 \\\lambda - 3 & -1 & \lambda^{2} - 5\lambda + 4 \\\end{bmatrix}</script><p>第四步，第1列加到第2列</p><script type="math/tex; mode=display">\begin{bmatrix}-1 & 0 & 0 \\1 & \lambda - 2 & \lambda - 2 \\\lambda - 3 & \lambda - 4 & \lambda^{2} - 5\lambda + 4 \\\end{bmatrix}</script><p>第五步，第2列乘-1加到第3列</p><script type="math/tex; mode=display">\begin{bmatrix}-1 & 0 & 0 \\1 & \lambda - 2 & 0 \\\lambda - 3 & \lambda - 4 & (\lambda - 4)(\lambda - 2) \\\end{bmatrix}</script><p>第六步，对角线元素乘积等于0</p><script type="math/tex; mode=display">(\lambda - 4)(\lambda - 2)(\lambda - 2) = 0</script><p>特征值 $\lambda_{1} = \lambda_{2} = 2 ,\lambda_{3} = 4$</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;主成分分析&lt;/strong&gt; 不但是多元统计分析的重要部分，而且在日常的数据分析工作中也发挥着重要作用。以下详细介绍主成分分析的原理和R语言实践。&lt;/p&gt;
    
    </summary>
    
      <category term="R" scheme="http://www.xinyao.pub/categories/R/"/>
    
    
      <category term="R" scheme="http://www.xinyao.pub/tags/R/"/>
    
      <category term="pca" scheme="http://www.xinyao.pub/tags/pca/"/>
    
  </entry>
  
  <entry>
    <title>和子由渑池怀旧</title>
    <link href="http://www.xinyao.pub/2017/10/09/2017-10-09-dongpo1/"/>
    <id>http://www.xinyao.pub/2017/10/09/2017-10-09-dongpo1/</id>
    <published>2017-10-08T16:00:00.000Z</published>
    <updated>2019-05-11T08:48:45.820Z</updated>
    
    <content type="html"><![CDATA[<p>《和子由渑池怀旧》是一首脍炙人口的东坡诗。人们都知道东坡词很有名，其实东坡诗的成就不亚于东坡词。第一次读这首诗的时间早已忘却了，2015年因一个同事的离职赠言对这首诗印象深刻。</p><a id="more"></a><blockquote><p>人生到处知何似，应似飞鸿踏雪泥<br>泥上偶然留指爪，鸿飞那复计东西<br>老僧已死成新塔，坏壁无由见旧题<br>往日崎岖还记否，路长人困蹇驴嘶</p></blockquote><h1 id="怀旧"><a href="#怀旧" class="headerlink" title="怀旧"></a>怀旧</h1><p>诗的标题是《和子由渑池怀旧》。由于苏轼的弟弟苏辙（字子由）写了一首《怀渑池寄子瞻兄》，所以苏轼写诗回赠。每个人皆会怀旧，都会想起一些陈年往事。对于我个人而言，心情不好的时候便会怀旧，而且怀旧的内容往往是伤感的。苏轼的这首诗写到了“往日崎岖还记否，路长人困蹇驴嘶”。这句怀旧的内容反而能开导人，往日那么多的困难都过来了，还有什么能难倒我们呢？</p><h1 id="旷达"><a href="#旷达" class="headerlink" title="旷达"></a>旷达</h1><p>“北漂”这个词很有意思。外地人来到北京打工，始终没有把北京当做自己的家，只把它当成一份工作的地点，终究要回到故乡，苏辙也并不例外。人生往来如梭，仕途之路更是这样，会接二连三的被调遣，三天两头的被搬家，所以苏辙难免会有悲观的情绪。苏轼截然不同，说“人生到处知何似，应似飞鸿踏雪泥”。人到了一个地方是会留下痕迹，但是没有必要太在意这些。虽然时过境迁，物是人非，但我们没必要悲观，这些痕迹随着时光的飞逝会越来越浅。不如及时行乐，对生活乐观点。</p><h1 id="豪放"><a href="#豪放" class="headerlink" title="豪放"></a>豪放</h1><p>辛弃疾也是我最喜欢的词人之一，和苏轼并称“苏辛”。虽然苏轼是豪放派的开山鼻祖，但辛弃疾将豪放发挥到了极致。王国维评价是“东坡之词旷，稼轩之词豪。无二人之胸襟而学其词，犹东施之效捧心也”。通过这首《破阵子》能充分感受辛弃疾的豪放</p><blockquote><p>醉里挑灯看剑，梦回吹角连营。八百里分麾下炙，五十弦翻塞外声，沙场秋点兵<br>马作的卢飞快，弓如霹雳弦惊。了却君王天下事，赢得生前身后名。可怜白发生</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;《和子由渑池怀旧》是一首脍炙人口的东坡诗。人们都知道东坡词很有名，其实东坡诗的成就不亚于东坡词。第一次读这首诗的时间早已忘却了，2015年因一个同事的离职赠言对这首诗印象深刻。&lt;/p&gt;
    
    </summary>
    
      <category term="文学" scheme="http://www.xinyao.pub/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="文学" scheme="http://www.xinyao.pub/tags/%E6%96%87%E5%AD%A6/"/>
    
      <category term="苏轼" scheme="http://www.xinyao.pub/tags/%E8%8B%8F%E8%BD%BC/"/>
    
      <category term="诗词" scheme="http://www.xinyao.pub/tags/%E8%AF%97%E8%AF%8D/"/>
    
  </entry>
  
  <entry>
    <title>hive的曲线救国</title>
    <link href="http://www.xinyao.pub/2017/09/30/2017-09-30-hive/"/>
    <id>http://www.xinyao.pub/2017/09/30/2017-09-30-hive/</id>
    <published>2017-09-29T16:00:00.000Z</published>
    <updated>2019-06-27T04:22:18.270Z</updated>
    
    <content type="html"><![CDATA[<p>本来是想用R直接连接hive，达到将hive的数据导入R进一步分析的目的。无奈本人是小白，有跳板机这个东西捣鼓半天还没搞定。无奈之下选择曲线救国，集群跑数保存为txt，然后用R的<code>data.table</code>将其打开。</p><a id="more"></a><h1 id="通过跳板机登录hadoop客户机"><a href="#通过跳板机登录hadoop客户机" class="headerlink" title="通过跳板机登录hadoop客户机"></a>通过跳板机登录hadoop客户机</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh lixinyao9891@10.25.2.6 # 登录跳板机</span><br><span class="line">ssh lixinyao9891@10.25.248.36 # 登录hadoop客户机</span><br><span class="line">su - lixinyao9891 # 切换到个人账户</span><br></pre></td></tr></table></figure><h1 id="hive跑数并保存为txt"><a href="#hive跑数并保存为txt" class="headerlink" title="hive跑数并保存为txt"></a>hive跑数并保存为txt</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir lixinyao # 新建文件夹</span><br><span class="line">vim user_feature20170930.sql # 新建sql文件</span><br><span class="line">hive –f user_feature20170930.sql &gt;lixinyao.txt # 执行sql并将结果保存为txt</span><br></pre></td></tr></table></figure><h1 id="将远程txt复制到本地"><a href="#将远程txt复制到本地" class="headerlink" title="将远程txt复制到本地"></a>将远程txt复制到本地</h1><p>因为有跳板机的存在，无法直接使用scp，所以通过rz、sz的方式来下载文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 官网先下载iterm2</span><br><span class="line"># 下载安装lrzsz</span><br><span class="line">brew install lrzsz</span><br><span class="line"># 下载安装iterm2-zmodem</span><br><span class="line">cd /usr/local/bin</span><br><span class="line">sudo wget https://raw.github.com/mmastrac/iterm2-zmodem/master/iterm2-send-zmodem.sh</span><br><span class="line">sudo wget https://raw.github.com/mmastrac/iterm2-zmodem/master/iterm2-recv-zmodem.sh</span><br><span class="line">sudo chmod 777 /usr/local/bin/iterm2-*</span><br></pre></td></tr></table></figure><p>打开Item2，点击preferences -&gt; profiles，选择某个profile，如Default，之后继续选择advanced -&gt; triggers，添加编辑添加如下triggers：</p><div class="table-container"><table><thead><tr><th style="text-align:center">Regular Expression</th><th style="text-align:center">Action</th><th style="text-align:center">Parameters</th></tr></thead><tbody><tr><td style="text-align:center">rz waiting to receive.**B0100</td><td style="text-align:center">Run Silent Coprocess</td><td style="text-align:center">/usr/local/bin/iterm2-send-zmodem.sh</td></tr><tr><td style="text-align:center">**B00000000000000</td><td style="text-align:center">Run Silent Coprocess</td><td style="text-align:center">/usr/local/bin/iterm2-recv-zmodem.sh</td></tr></tbody></table></div><p>将远程文件传入本地</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sz a.txt</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本来是想用R直接连接hive，达到将hive的数据导入R进一步分析的目的。无奈本人是小白，有跳板机这个东西捣鼓半天还没搞定。无奈之下选择曲线救国，集群跑数保存为txt，然后用R的&lt;code&gt;data.table&lt;/code&gt;将其打开。&lt;/p&gt;
    
    </summary>
    
      <category term="SQL" scheme="http://www.xinyao.pub/categories/SQL/"/>
    
    
      <category term="hive" scheme="http://www.xinyao.pub/tags/hive/"/>
    
      <category term="SQL" scheme="http://www.xinyao.pub/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>一些人生感悟</title>
    <link href="http://www.xinyao.pub/2017/09/15/2017-09-15-gossip-talk/"/>
    <id>http://www.xinyao.pub/2017/09/15/2017-09-15-gossip-talk/</id>
    <published>2017-09-14T16:00:00.000Z</published>
    <updated>2019-06-27T16:21:01.753Z</updated>
    
    <content type="html"><![CDATA[<p>随着年龄增长，个人成熟，每个人都是越活越明白的。所以对以前的经历或者是正在经历的事情会看的更清。鸡汤文常说大步向前走、不要回头看，我对此是持反对意见的。经常回头看不等同于保守，回顾总结是好的。孔夫子都说吾日三省吾身嘛。接下来我就会回顾一些事情，聊聊我的感悟。</p><a id="more"></a><h1 id="机会永远比能力重要"><a href="#机会永远比能力重要" class="headerlink" title="机会永远比能力重要"></a>机会永远比能力重要</h1><p>以前的工作或者生活中，一直都是以自我为中心展开的。比如工作中花大量的时间跟项目、学习专业知识，不断充实自己；生活中更多的关注自己的感受，忽视了其他变化和其他人的感受。现在发现，以前的成长方式是有问题的。《水库论坛》的欧神写过一篇 <em>战点</em> 的文章。<em>年轻人不是不努力，而是缺少真正考验自己的机会</em> 。日本的劳动雇佣方式很固化，很多人从20岁就进入一家公司，然后从这家公司退休。这样的方式固然可以传承很多东西，也成就了日本的工匠精神。但是大家基本都是螺丝钉，很难遇到“战点”，很难完成质的提升。在中国的工作也是一样，为了保证有人离职后企业还能正常运转，员工设置会冗余。这样的设置会导致员工也很难遇到“战点”。所以，我的观点是 <em>机会永远比能力重要</em>，如果能遇到有挑战性的工作，便别犹豫了，赶紧加入吧。同样的4年工作经验，有的人是1年经验重复4次，而有的人是真正的干了很多事，自己也成长了很多。</p><h1 id="靠工作赚不到钱"><a href="#靠工作赚不到钱" class="headerlink" title="靠工作赚不到钱"></a>靠工作赚不到钱</h1><p>假如家里无钱无权无势，想要在北京生活留在北京，这是很难的一件事。假如工作3年，工资到了20k，到头来发现在二线城市的同学通过买房的方式，资产迅速超越了自己。我是个很务实的人，很喜欢工作，但是没有到热爱的地步，没有到左丘失明厥有国语的境界，还是想着工作是提升自己生活品质的一种方式。在工作之余看一些财经类的书籍很有意思，通过以钱赚钱的方式来改善自己的生活，也是很有意义的事情，而且这种资产增值的方式也很快。所谓牛市炒股、熊市炒房，是有一定道理的。</p><h1 id="老板更喜欢情商高"><a href="#老板更喜欢情商高" class="headerlink" title="老板更喜欢情商高"></a>老板更喜欢情商高</h1><p>历朝历代都是这样，皇帝信任太监。因为太监懂皇帝，平时总是以皇帝为中心，对皇帝曲意逢迎、祛寒问暖、关怀备至，其次太监对皇帝没有威胁。所以在公司里就会发现，老板更喜欢智商平庸但是情商很高的人。这些人是老板的得力助手，是老板的小棉袄，同时对老板没威胁。和明朝很像，内阁拟票，司礼监批红。干活有的是人嘛。</p><h1 id="未来的机会"><a href="#未来的机会" class="headerlink" title="未来的机会"></a>未来的机会</h1><p>未来的机会只有两个。一是互联网和数据技术继续改变传统行业，提升传统行业的效率；二是诸如AR、无人驾驶、新能源汽车等科技变革带来的世界颠覆。</p><p>第一个机会发生在房地产、医疗、教育这几个行业，这几个行业也是我一直看好的行业。一个很简单的逻辑，假如东晋的王谢两大家族大比拼。首先要比谁能买更多房子，资产更快的增长；其次要比哪位掌门人活得久；最后比谁的后代教育好。阶级固化是必然的，你说你不努力没关系，要把任务交给下一代，其实下一代也是这么想的：）</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;随着年龄增长，个人成熟，每个人都是越活越明白的。所以对以前的经历或者是正在经历的事情会看的更清。鸡汤文常说大步向前走、不要回头看，我对此是持反对意见的。经常回头看不等同于保守，回顾总结是好的。孔夫子都说吾日三省吾身嘛。接下来我就会回顾一些事情，聊聊我的感悟。&lt;/p&gt;
    
    </summary>
    
      <category term="生活" scheme="http://www.xinyao.pub/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="生活" scheme="http://www.xinyao.pub/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="感悟" scheme="http://www.xinyao.pub/tags/%E6%84%9F%E6%82%9F/"/>
    
  </entry>
  
  <entry>
    <title>博客push代码</title>
    <link href="http://www.xinyao.pub/2017/09/14/2017-09-14-blog-push-code/"/>
    <id>http://www.xinyao.pub/2017/09/14/2017-09-14-blog-push-code/</id>
    <published>2017-09-13T16:00:00.000Z</published>
    <updated>2019-07-10T12:24:08.874Z</updated>
    
    <content type="html"><![CDATA[<p>很长时间没写博客，居然把提交代码忘了，好在内力深厚，又想起来了，在此记录一下</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd lixinyao.github.io</span><br><span class="line">hexo g</span><br><span class="line">cp -R public/* .deploy/lixinyao.github.io/</span><br><span class="line">cd .deploy/lixinyao.github.io/</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;update reason&quot;</span><br><span class="line">git push -f</span><br></pre></td></tr></table></figure><p>新的博客做了一些修改，会自动生成<code>.deploy_git</code>文件夹，里面存的就是<code>public</code>文件夹的内容，不用再<code>cp -R</code>拷贝了。上述命令改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd lixinyao.github.io</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>atom编辑器预览markdown，<code>shift+control+M</code>。预览公式的话，用 <code>shift+control+X</code></p><p>atom编辑器代码优化，<code>atom-beautify</code>包，可以对各种语言进行格式优化，对于R语言，其实还是调用的<code>formatR</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;很长时间没写博客，居然把提交代码忘了，好在内力深厚，又想起来了，在此记录一下&lt;/p&gt;
    
    </summary>
    
      <category term="github" scheme="http://www.xinyao.pub/categories/github/"/>
    
    
      <category term="github" scheme="http://www.xinyao.pub/tags/github/"/>
    
      <category term="hexo" scheme="http://www.xinyao.pub/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>国家博物馆之古代中国</title>
    <link href="http://www.xinyao.pub/2017/04/28/2017-04-28-national-museum/"/>
    <id>http://www.xinyao.pub/2017/04/28/2017-04-28-national-museum/</id>
    <published>2017-04-27T16:00:00.000Z</published>
    <updated>2019-06-27T16:27:59.699Z</updated>
    
    <content type="html"><![CDATA[<p>从小以来，我一直对中国古代的文物有莫大的兴趣，甚至还一度想学考古、做考古学家。也许当初学了考古，做事会变的有极大的耐心。前一段时间，来到了天安门旁的国家博物馆，感受浓浓的中国历史文化。国家博物馆主要有“古代中国”和“复兴之路”两个板块，由于事件原因，我主要参观了“古代中国”。</p><a id="more"></a><p>“古代中国”展馆是按中国古代的朝代来排列的，从旧石器时代一直到清末，藏品没有想象中的珍贵与丰富，下面挑几个较珍贵的藏品介绍。</p><h1 id="陶鹰鼎"><a href="#陶鹰鼎" class="headerlink" title="陶鹰鼎"></a>陶鹰鼎</h1><p>文字来源于 <strong>维基百科</strong> 。陶鹰鼎是 <strong>仰韶文化</strong> 陶器，出土于陕西省华县（现渭南市华州区）太平庄。通高36厘米，整体结构质朴，周身光洁，未加纹饰。鼎上雕有一只两眼圆睁的猫头鹰，以鹰的前胸为鼎腹，双翅后收构成鼎之中后部，鹰背开有鼎口，鹰足和尾部为鼎足。鹰的双目圆睁，喙部呈勾状，整体造型颇具气势，十分生动。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/陶鹰鼎.jpg" alt></p><h1 id="人面鱼纹陶盆"><a href="#人面鱼纹陶盆" class="headerlink" title="人面鱼纹陶盆"></a>人面鱼纹陶盆</h1><p>人面鱼纹陶盆来源于陕西 <strong>半坡遗址</strong> ，属于 <strong>仰韶文化</strong> 。这个陶盆是用做儿童瓮棺的棺盖。还可以清晰的看到，人面造型很像一个巫师，一般被认为象征着巫师请鱼神附体，为夭折的儿童招魂祈福。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/人面鱼纹陶盆.jpg" alt></p><h1 id="玉龙"><a href="#玉龙" class="headerlink" title="玉龙"></a>玉龙</h1><p>玉龙出土于内蒙古赤峰，属于 <strong>红山文化</strong> 。文字来源于 <strong>百度百科</strong> 。玉龙通高26厘米，墨绿色，体卷曲，平面形状如一“c”字，龙体横截面为椭圆形，直径2.3～2.9厘米。龙首较短小，吻前伸，略上噘，嘴紧闭，鼻端截平，端面近椭圆形，以对称的两个圆洞作为鼻孔。值得注意的是，玉龙形象带有浓重的幻想色彩，已经显示出成熟龙形的诸多因素。这件玉龙可以上溯到5000年以前，由红山人精心制作的、国内首次发现的“中华第一玉雕龙”。被普遍认为是”中华第一龙”。龙体正中有一个小穿孔，以穿绳悬挂，若穿绳悬起，龙的首尾正好呈向下的水平状态，可见孔的位置经过了精密选择。整个龙体恰如一条即将出水的巨龙，正翻腾而起，气势雄浑。</p><p>玉龙以一整块玉料圆雕而成，细部还运用了浮雕、浅浮雕等手法，通体琢磨，较为光洁，这都表明了当时琢玉工艺的发展水平。其造型独特，工艺精湛，圆润流利，生气勃勃。玉龙身上负载的神秘意味，更为它平添一层美感。<br>此件玉龙的具体用途尚有待进一步探讨，不过龙体背正中有一小穿孔，经试验，若穿绳悬起，龙首尾恰在同一水平线上，显然，孔的位置是经过精密计算的。考虑到玉龙形体硕大，且造型特殊，因而它不只是一般的饰件，而很可能是同我国原始宗教崇拜密切相关的礼制用具。</p><p>红山文化玉龙曾有“中华第一龙”的称誉，虽然此后我们又发现了更早的龙形的踪迹，但红山玉龙的典型意义仍不容置疑。中华民族向以“龙的传人”自居，龙的起源同我们民族历史文化的形成和文明时代的肇始紧密相关。红山玉龙对于研究我国远古的原始宗教，总结龙形发展的序列都有着非比寻常的意义。从这一点上来看，怎样估价红山玉龙的文化价值均也不为过。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/玉龙.jpg" alt></p><h1 id="四羊方尊"><a href="#四羊方尊" class="headerlink" title="四羊方尊"></a>四羊方尊</h1><p>“尊”是一种盛酒器。四羊方尊出土于湖南宁乡，是 <strong>商代</strong> 现存最大的方尊。四羊方尊高58.3厘米，重约34.5公斤，尊的肩部四角各有一个卷角羊头，其中羊角是先铸成后再合范浇铸而成，因为高超的技术而难见接口，浑然一体。整个器物通体饰繁缛的凤鸟纹、兽面纹、蕉叶纹和云雷纹，纹饰精美。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/四羊方尊.jpg" alt></p><h1 id="青铜冰鉴"><a href="#青铜冰鉴" class="headerlink" title="青铜冰鉴"></a>青铜冰鉴</h1><p>文字来源于 <strong>百度百科</strong> 。青铜冰鉴1977年出土于湖北随州市 曾侯乙墓 ，战国时的冰酒器。长76厘米，宽76厘米，高63.2厘米。鉴身的四面和四棱上，共有八个拱曲的龙形耳钮，钮尾均有小龙缠绕，又有两朵五瓣小花立于尾上。外观新颖别致，奇特精美，冷热藏酒，功能兼备！双层的方形器皿，中有方壶，上有镂孔盖，鉴、壶之间可置冰，是我国最早的冰箱。四足兽、八龙耳，八接檐，蟠螭纹、勾连云纹，异常精美！上置长柄铜勺。铸造技艺精湛，失蜡、镶嵌、镂雕、浮雕俱全。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/青铜冰鉴.jpg" alt></p><h1 id="金缕玉衣"><a href="#金缕玉衣" class="headerlink" title="金缕玉衣"></a>金缕玉衣</h1><p>最早听说的金缕玉衣是中山靖王刘胜的，但是保存在河北博物馆。这次看到的是 <strong>中山怀王刘修</strong> 的玉衣。穷奢极欲的帝王认为穿上玉衣能让尸身不腐，所以汉代的帝王贵族死后纷纷用玉衣下葬。而金缕玉衣更是帝王或者等级高的藩王专属，是汉代规格最高的丧葬殓服。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/金缕玉衣.jpg" alt></p><h1 id="击鼓说唱俑"><a href="#击鼓说唱俑" class="headerlink" title="击鼓说唱俑"></a>击鼓说唱俑</h1><p>文字来源于 <strong>百度百科</strong> 。击鼓说唱俑是陪葬俑中少有的传神佳作。出土于四川成都市东汉墓，它代表了 <strong>东汉</strong> 陶俑的平实感人的生活气息和艺术风格。俑上戴帻，额前有花饰，袒胸露腹，着裤赤足，左臂环抱一扁鼓，右手举槌欲击，作击鼓说唱表演，神态诙谐，动作夸张，是一件富有浓厚民间气息和地方风貌的优秀雕塑作品。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/击鼓说唱俑.jpg" alt></p><h1 id="凤冠"><a href="#凤冠" class="headerlink" title="凤冠"></a>凤冠</h1><p>前年的时候去定陵，曾经见到过凤冠的复制品。这顶凤冠是 <strong>万历朝</strong> 孝端皇后的九龙九凤冠，此冠共嵌未经加工的天然红宝石百余粒，珍珠5000余颗，造型庄重，制作精美，金翠交辉，富丽堂皇。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/national-museum/凤冠.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从小以来，我一直对中国古代的文物有莫大的兴趣，甚至还一度想学考古、做考古学家。也许当初学了考古，做事会变的有极大的耐心。前一段时间，来到了天安门旁的国家博物馆，感受浓浓的中国历史文化。国家博物馆主要有“古代中国”和“复兴之路”两个板块，由于事件原因，我主要参观了“古代中国”。&lt;/p&gt;
    
    </summary>
    
      <category term="历史" scheme="http://www.xinyao.pub/categories/%E5%8E%86%E5%8F%B2/"/>
    
    
      <category term="历史" scheme="http://www.xinyao.pub/tags/%E5%8E%86%E5%8F%B2/"/>
    
  </entry>
  
  <entry>
    <title>常住人口有点坑</title>
    <link href="http://www.xinyao.pub/2017/04/11/2017-04-11-resident-population/"/>
    <id>http://www.xinyao.pub/2017/04/11/2017-04-11-resident-population/</id>
    <published>2017-04-10T16:00:00.000Z</published>
    <updated>2019-06-27T16:36:40.406Z</updated>
    
    <content type="html"><![CDATA[<p>前一段时间在知乎上看到一个帖子，<a href="https://www.zhihu.com/question/20574612" target="_blank" rel="noopener">北京到底有多少人口</a>。话说传的是神乎其神，有说内部资料显示4800万的，有说市政公交卡显示5000万的。可是国家统计局分明白纸黑字写着 2015年北京常住人口2170万 。可以肯定的是，统计局的口径没算我，因为我没遇到过人口普查。估计很多人和我一样，北漂没有被认定为 <em>常住</em></p><a id="more"></a><ol><li>最准确的方式莫过于判断移动信号。举个例子，假如1个移动信号在北京长期存在（假如365天出现了180天），就把这个人定义为常住居民。可惜很难从移动运营商拿到数据</li><li>其次是微信等用户基础广的app，如果用户对微信开启了位置获取，这样也能判断人口</li><li>盐属于管制的商品，即北京人吃的盐都是北京的盐业供应的。每个人对盐的需求不会有太大差别，这样也可以估算</li></ol><p>由于以上数据获取困难，只能拿 <strong>用水量</strong> 估算，可能有些城市不准，但大部分城市不会差太多</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/residentpop.png" alt></p><p>可以看到北上广深的差距很大，真实人口比统计局的常住人口普遍多 <strong>800万</strong></p><div class="table-container"><table><thead><tr><th style="text-align:center">城市</th><th style="text-align:center">常住人口（万）</th><th style="text-align:center">真实人口（万）</th></tr></thead><tbody><tr><td style="text-align:center">北京</td><td style="text-align:center">2170.5</td><td style="text-align:center">2936.1</td></tr><tr><td style="text-align:center">上海</td><td style="text-align:center">2415.3</td><td style="text-align:center">3085.6</td></tr><tr><td style="text-align:center">广州</td><td style="text-align:center">1350.1</td><td style="text-align:center">2009.9</td></tr><tr><td style="text-align:center">深圳</td><td style="text-align:center">1137.9</td><td style="text-align:center">1933.7</td></tr></tbody></table></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前一段时间在知乎上看到一个帖子，&lt;a href=&quot;https://www.zhihu.com/question/20574612&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;北京到底有多少人口&lt;/a&gt;。话说传的是神乎其神，有说内部资料显示4800万的，有说市政公交卡显示5000万的。可是国家统计局分明白纸黑字写着 2015年北京常住人口2170万 。可以肯定的是，统计局的口径没算我，因为我没遇到过人口普查。估计很多人和我一样，北漂没有被认定为 &lt;em&gt;常住&lt;/em&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="生活" scheme="http://www.xinyao.pub/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="生活" scheme="http://www.xinyao.pub/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="人口" scheme="http://www.xinyao.pub/tags/%E4%BA%BA%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>揭秘北京换房者</title>
    <link href="http://www.xinyao.pub/2017/03/29/2017-02-24-house-move/"/>
    <id>http://www.xinyao.pub/2017/03/29/2017-02-24-house-move/</id>
    <published>2017-03-28T16:00:00.000Z</published>
    <updated>2019-06-28T04:03:29.484Z</updated>
    
    <content type="html"><![CDATA[<p>购房的目的无非3种，首次置业、改善换房、投资。毋庸置疑的是，北京的市场充满了换房者。大家身边都有换房的案例，要么孩子要出生需要大面积；要么孩子上学需要学区房；要么想要从郊区换到城区享受便利的生活。以下是换房者揭秘：</p><a id="more"></a><h1 id="换房比例"><a href="#换房比例" class="headerlink" title="换房比例"></a>换房比例</h1><p>假如换房者卖掉A房，换一套B房。全市换房者的占比由于以下原因是很难计算的：</p><ol><li>A房和B房不在一个公司成交，没有相应的数据</li><li>即使A房和B房都在同一公司成交，但是成交者一次是丈夫，一次是妻子，这样也会造成无法跟踪换房情况</li></ol><p>初步估计 换房者的比例在40%以上，所以北京已经进入了满足改善型需求的时代。</p><h1 id="什么人在换房"><a href="#什么人在换房" class="headerlink" title="什么人在换房"></a>什么人在换房</h1><h2 id="换房者年代分化严重，置换越来越难"><a href="#换房者年代分化严重，置换越来越难" class="headerlink" title="换房者年代分化严重，置换越来越难"></a>换房者年代分化严重，置换越来越难</h2><p>换房是特定年龄下的特定需求，是自然而然的事情。但现在的问题是分化特别严重，以前可能是一批人努努力都可以换房，现在只有特定年代的人能换的起了</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang1.png" alt></p><p>从年龄来看也印证了换房难的观点，12年时31岁可以换房，16年34岁才能换房，17年会不会更难点，变成35岁才能换房</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang2.png" alt></p><h2 id="籍贯为北京的换房者比例下降"><a href="#籍贯为北京的换房者比例下降" class="headerlink" title="籍贯为北京的换房者比例下降"></a>籍贯为北京的换房者比例下降</h2><p>虽然籍贯为北京的换房者比例下降，但是北京人仍然是换房主力，还有大批的置换需求未被满足。河北、河南、山东的换房者占比迅速增加。原因是这些省份的城市吸引力没有北京强，前些年大批人口来到北京首次置业，现阶段到了改善的时间，所以换房比例增加。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang3.png" alt></p><h1 id="为什么换房"><a href="#为什么换房" class="headerlink" title="为什么换房"></a>为什么换房</h1><h2 id="为了面积换房"><a href="#为了面积换房" class="headerlink" title="为了面积换房"></a>为了面积换房</h2><p>12年的时候，能改善14平米，相当于多1个居室。14～15年能改善10平米，也能多1个小的居室。16年北京房价涨了50%，改善的面积仅仅为 <strong>3平米</strong> ，有必要看看改善的目的了。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang4.png" alt></p><h2 id="换房要增加多少钱"><a href="#换房要增加多少钱" class="headerlink" title="换房要增加多少钱"></a>换房要增加多少钱</h2><p>换后的房子比换前贵50～65万，其中16年稍微有所降低，再次印证了 <strong>换房难</strong> 的观点。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang5.png" alt></p><h2 id="远换近"><a href="#远换近" class="headerlink" title="远换近"></a>远换近</h2><p>为了便利的生活，换房者会换到更靠近市区的地段。假如以天安门作为中心，平均的距离是向市中心移动1km，即实现远换近1km</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang6.png" alt></p><p>一种换房的倾向是，<strong>换房者更愿意在本小区换房</strong> ，比例已经达到了27%</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang7.png" alt></p><p>在本小区换房，目的就是为了更大的面积，且生活圈子不受影响。但是2015年的特殊情况需要关注</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang8.png" alt></p><h1 id="不同年代的人为什么换房"><a href="#不同年代的人为什么换房" class="headerlink" title="不同年代的人为什么换房"></a>不同年代的人为什么换房</h1><h2 id="年代-面积"><a href="#年代-面积" class="headerlink" title="年代 * 面积"></a>年代 * 面积</h2><p>下图说明几点问题：</p><ol><li>从面积差和卖出面积来看，70后的面积需求已经基本满足，但是80后依然在努力换更大的面积</li><li>16年房价上涨幅度很大，打压了82～85的面积需求，其中83和85受影响最大</li><li>86由于起点较低，换到的面积不太大，是未来2～3年的换房主力</li></ol><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang9.png" alt></p><h2 id="年代-距离"><a href="#年代-距离" class="headerlink" title="年代 * 距离"></a>年代 * 距离</h2><ol><li>住房离天安门的距离与年代有关，出生时间越早，换的房子越靠近内城</li><li>85在12～14年换房主要为了面积，而不是位置</li></ol><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang10.png" alt></p><h2 id="年代-交易周期"><a href="#年代-交易周期" class="headerlink" title="年代 * 交易周期"></a>年代 * 交易周期</h2><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/huanfang11.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;购房的目的无非3种，首次置业、改善换房、投资。毋庸置疑的是，北京的市场充满了换房者。大家身边都有换房的案例，要么孩子要出生需要大面积；要么孩子上学需要学区房；要么想要从郊区换到城区享受便利的生活。以下是换房者揭秘：&lt;/p&gt;
    
    </summary>
    
      <category term="房产" scheme="http://www.xinyao.pub/categories/%E6%88%BF%E4%BA%A7/"/>
    
    
      <category term="房产" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E4%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Mac的移动硬盘地址</title>
    <link href="http://www.xinyao.pub/2017/03/29/2017-03-29-disk-address/"/>
    <id>http://www.xinyao.pub/2017/03/29/2017-03-29-disk-address/</id>
    <published>2017-03-28T16:00:00.000Z</published>
    <updated>2019-06-28T02:25:46.274Z</updated>
    
    <content type="html"><![CDATA[<p>Mac的移动硬盘挂载在哪里？</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lixinyao@localhost:/Volumes/李昕垚 $ pwd</span><br><span class="line">/Volumes/李昕垚</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Mac的移动硬盘挂载在哪里？&lt;/p&gt;
    
    </summary>
    
      <category term="Mac" scheme="http://www.xinyao.pub/categories/Mac/"/>
    
    
      <category term="Mac" scheme="http://www.xinyao.pub/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>北京二手住宅的趋势和周期</title>
    <link href="http://www.xinyao.pub/2017/02/21/2017-02-21-trend-seasonal/"/>
    <id>http://www.xinyao.pub/2017/02/21/2017-02-21-trend-seasonal/</id>
    <published>2017-02-20T16:00:00.000Z</published>
    <updated>2019-06-28T12:14:10.217Z</updated>
    
    <content type="html"><![CDATA[<p>按照统计学的说法，时间序列是趋势、周期、季节性、不规则因素的叠加，即有加法模型 $Y=T+C+S+I$ 和乘法模型 $Y=T×C×S×I$ 两种形式。那么北京房地产的趋势和周期是什么样的呢？</p><a id="more"></a><h1 id="网签量"><a href="#网签量" class="headerlink" title="网签量"></a>网签量</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/bj_res_num.png" alt></p><h2 id="趋势"><a href="#趋势" class="headerlink" title="趋势"></a>趋势</h2><div class="table-container"><table><thead><tr><th style="text-align:center">高点</th><th style="text-align:center">低点</th><th style="text-align:center">高点</th><th style="text-align:center">低点</th><th>高点</th></tr></thead><tbody><tr><td style="text-align:center">09年11月</td><td style="text-align:center">11年9月</td><td style="text-align:center">12年10月</td><td style="text-align:center">14年5月</td><td>16年5月</td></tr></tbody></table></div><p>趋势的形状呈现“W型”，两个高点相隔 <strong>6年半</strong>，两个低点相隔 <strong>2年半</strong>。如果是完美的“W型”，第二个高点应该发生在 <strong>15年10～11月</strong>，怎么可能推迟半年发生在 <strong>16年5月</strong>？原因是15年9月北京有政策，公积金贷款最高额由80万变到了120万！政策可以改变周期，但是改变不了趋势的说法受到了冲击</p><h2 id="周期"><a href="#周期" class="headerlink" title="周期"></a>周期</h2><div class="table-container"><table><thead><tr><th style="text-align:center">低点</th><th style="text-align:center">高点</th><th style="text-align:center">低点</th><th style="text-align:center">低点</th><th>高点</th></tr></thead><tbody><tr><td style="text-align:center">1月</td><td style="text-align:center">3月</td><td style="text-align:center">6月</td><td style="text-align:center">10月</td><td>12月</td></tr></tbody></table></div><h1 id="成交价"><a href="#成交价" class="headerlink" title="成交价"></a>成交价</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2017/bj_res_price.png" alt></p><h2 id="趋势-1"><a href="#趋势-1" class="headerlink" title="趋势"></a>趋势</h2><div class="table-container"><table><thead><tr><th style="text-align:center">低点</th><th style="text-align:center">高点</th><th style="text-align:center">低点</th><th style="text-align:center">高点</th><th>低点</th></tr></thead><tbody><tr><td style="text-align:center">08年11月</td><td style="text-align:center">11年3月</td><td style="text-align:center">12年1月</td><td style="text-align:center">14年1月</td><td>14年11月</td></tr></tbody></table></div><p>标准的 <strong>3年1周期</strong>，两个低点间隔为3年，两个高点间隔也是3年。按理说最后一个高点会出现在 <strong>17年1～3月</strong>，让我们拭目以待房价是否会调整。但是调整的幅度会比较小，在 <strong>5%</strong> 左右</p><h2 id="周期-1"><a href="#周期-1" class="headerlink" title="周期"></a>周期</h2><div class="table-container"><table><thead><tr><th style="text-align:center">低点</th><th style="text-align:center">高点</th><th style="text-align:center">低点</th></tr></thead><tbody><tr><td style="text-align:center">2月</td><td style="text-align:center">4月</td><td style="text-align:center">11月</td></tr></tbody></table></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;按照统计学的说法，时间序列是趋势、周期、季节性、不规则因素的叠加，即有加法模型 $Y=T+C+S+I$ 和乘法模型 $Y=T×C×S×I$ 两种形式。那么北京房地产的趋势和周期是什么样的呢？&lt;/p&gt;
    
    </summary>
    
      <category term="房产" scheme="http://www.xinyao.pub/categories/%E6%88%BF%E4%BA%A7/"/>
    
    
      <category term="房产" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E4%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>日本房地产泡沫</title>
    <link href="http://www.xinyao.pub/2017/02/07/2017-02-17-japan-res/"/>
    <id>http://www.xinyao.pub/2017/02/07/2017-02-17-japan-res/</id>
    <published>2017-02-06T16:00:00.000Z</published>
    <updated>2019-05-12T13:10:24.621Z</updated>
    
    <content type="html"><![CDATA[<p>日本在二战后得到美国的支持，发展迅速，GDP一度达到美国的70%，大有超越美国之势。但从90年代开始，日本房地产崩盘，经济长期萎靡不振，所以有了“失去的20年”。学习日本的房地产发展对判断中国的房地产前途有重要的借鉴意义。</p><a id="more"></a><h1 id="日本房地产发展的4个时期"><a href="#日本房地产发展的4个时期" class="headerlink" title="日本房地产发展的4个时期"></a>日本房地产发展的4个时期</h1><h2 id="制度建设期"><a href="#制度建设期" class="headerlink" title="制度建设期"></a>制度建设期</h2><p>战后～70年代中期 是制度建设期。在这一时期，日本建立了住房体制，并且提出保障房来满足人民的需求。1973年爆发了第四次中东战争，阿拉伯国家将油价提高了3倍。严重依赖进口石油的日本发生了“石油危机”，原材料价格上涨，土地和房地产价格也相应的上涨。</p><h2 id="经济发展期"><a href="#经济发展期" class="headerlink" title="经济发展期"></a>经济发展期</h2><p>70年代中期～80年代中期 是经济发展期。这一时期是日本经济发展最迅速的时期。日本优先发展 重工业 和 城市化建设 ，大量的人口流入城市，产生了大量的需求。经济发展带动了房地产的发展。</p><h2 id="泡沫产生、膨胀期"><a href="#泡沫产生、膨胀期" class="headerlink" title="泡沫产生、膨胀期"></a>泡沫产生、膨胀期</h2><p>80年代中期～90年代初期 是泡沫产生、膨胀期。大部分人认为房地产泡沫的导火索是 广场协定 。80年代美国财政赤字巨大，贸易逆差严重，为了刺激美国出口，1985年美、日、德、法、英签订广场协定，五国联合干预外汇市场，造成美元大幅贬值，日元大幅升值（日本被坑）。日元升值后，国际资金纷纷进入日本。而且日本政府过度的采取宽松的货币政策，M2大幅增加，热钱流入房地产，导致地产价格猛涨。</p><h2 id="失去的20年"><a href="#失去的20年" class="headerlink" title="失去的20年"></a>失去的20年</h2><p>90年代初期～今 是失去的20年，房地产在90年代初期崩盘，日本经济一路下行，至今尚未恢复。</p><h1 id="第一次泡沫"><a href="#第一次泡沫" class="headerlink" title="第一次泡沫"></a>第一次泡沫</h1><p>日本的第一次房地产泡沫破灭于1974年，房地产价格短暂下行。</p><h2 id="第一次泡沫产生的原因"><a href="#第一次泡沫产生的原因" class="headerlink" title="第一次泡沫产生的原因"></a>第一次泡沫产生的原因</h2><ol><li>住房贷款由公共机关向民间转变，释放了住宅需求</li><li>布雷顿森林体系瓦解 -&gt; 日元升值 -&gt; 出口受阻 -&gt; 经济堪忧 -&gt; 供应货币挽救经济 -&gt; 泡沫产生。由于美越战争带来的美元危机，人们疯狂的用美元兑换黄金。于是1971年尼克松结束了布雷顿森林体系，停止黄金自由兑换，不再实行固定汇率，造成美元贬值。</li><li>刚需和投机需求并存。45～50年是第一次婴儿潮，他们在70年代正好成为刚需</li></ol><h1 id="第二次泡沫"><a href="#第二次泡沫" class="headerlink" title="第二次泡沫"></a>第二次泡沫</h1><p>日本的第二次房地产泡沫破灭于1991年，自此日本进入了“失去的20年”。</p><h2 id="第二次泡沫产生的原因"><a href="#第二次泡沫产生的原因" class="headerlink" title="第二次泡沫产生的原因"></a>第二次泡沫产生的原因</h2><ol><li>1985年广场协定 -&gt; 日元升值 -&gt; 出口受阻 -&gt; 经济堪忧 -&gt; 供应货币挽救经济 -&gt; 泡沫产生。与第一次泡沫产生如出一辙</li><li>宽松的金融环境为泡沫滋生提供了制度条件，融资自由化导致银行的作用下降，银行的不动产贷款增加</li><li>金融加速器推波助澜，土地价格涨 -&gt; 持有土地的企业融资成本降低 -&gt; 企业融资买地</li></ol><h2 id="第二次泡沫破灭的原因"><a href="#第二次泡沫破灭的原因" class="headerlink" title="第二次泡沫破灭的原因"></a>第二次泡沫破灭的原因</h2><ul><li>深层原因是需求不足。A：日本的城市化在70年代中期已经基本完成，没有新的进城人口；B：人口老龄化严重，没有新的刚需</li><li>表面原因是供需逆转。由松到紧的货币政策，导致房价下跌，企业纷纷卖地还债，供给大增</li></ul><h2 id="第二次泡沫造成的影响"><a href="#第二次泡沫造成的影响" class="headerlink" title="第二次泡沫造成的影响"></a>第二次泡沫造成的影响</h2><ol><li>开发商倒闭</li><li>金融机构坏账增加，有的机构破产</li><li>政府财政赤字严重，国债增加</li><li>普通家庭破产</li></ol><p>1995年后，日本和美国签订“反广场协定”，允许日本干预汇率，随后日元贬值。日本政府也实行了扩张性的财政政策，降低税赋和贴现率来挽救经济</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;日本在二战后得到美国的支持，发展迅速，GDP一度达到美国的70%，大有超越美国之势。但从90年代开始，日本房地产崩盘，经济长期萎靡不振，所以有了“失去的20年”。学习日本的房地产发展对判断中国的房地产前途有重要的借鉴意义。&lt;/p&gt;
    
    </summary>
    
      <category term="房产" scheme="http://www.xinyao.pub/categories/%E6%88%BF%E4%BA%A7/"/>
    
    
      <category term="日本" scheme="http://www.xinyao.pub/tags/%E6%97%A5%E6%9C%AC/"/>
    
      <category term="房地产泡沫" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E5%9C%B0%E4%BA%A7%E6%B3%A1%E6%B2%AB/"/>
    
  </entry>
  
  <entry>
    <title>中国社会各阶级的分析</title>
    <link href="http://www.xinyao.pub/2017/02/07/2017-02-07-social-class/"/>
    <id>http://www.xinyao.pub/2017/02/07/2017-02-07-social-class/</id>
    <published>2017-02-06T16:00:00.000Z</published>
    <updated>2019-05-12T13:05:46.970Z</updated>
    
    <content type="html"><![CDATA[<p>毛主席在1925年写的《中国社会各阶级的分析》中将当时社会的人们分为5个阶级：<em>地主和买办阶级、民族资产阶级、小资产阶级、半无产阶级、无产阶级</em>。虽然我们是社会主义，应该是人人平等。但每个人都不得不承认的是，当今社会，阶级之分是普遍的。</p><a id="more"></a><div class="table-container"><table><thead><tr><th style="text-align:center">旧社会</th><th style="text-align:center">新社会</th></tr></thead><tbody><tr><td style="text-align:center">地主和买办阶级</td><td style="text-align:center">政策制定者</td></tr><tr><td style="text-align:center">民族资产阶级</td><td style="text-align:center">政策执行者</td></tr><tr><td style="text-align:center">小资产阶级</td><td style="text-align:center">房多多</td></tr><tr><td style="text-align:center">半无产阶级</td><td style="text-align:center">一套房且有房贷</td></tr><tr><td style="text-align:center">无产阶级</td><td style="text-align:center">无产阶级</td></tr></tbody></table></div><p>如上划分合理吗？&gt;.&lt;</p><p>这是个穷苦农民储蓄、10W以下理财、10～100W炒股、100W以上加杠杆买房的时代。这个时代是无奈的时代，也是充满机会的时代</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;毛主席在1925年写的《中国社会各阶级的分析》中将当时社会的人们分为5个阶级：&lt;em&gt;地主和买办阶级、民族资产阶级、小资产阶级、半无产阶级、无产阶级&lt;/em&gt;。虽然我们是社会主义，应该是人人平等。但每个人都不得不承认的是，当今社会，阶级之分是普遍的。&lt;/p&gt;
    
    </summary>
    
      <category term="生活" scheme="http://www.xinyao.pub/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="阶级" scheme="http://www.xinyao.pub/tags/%E9%98%B6%E7%BA%A7/"/>
    
      <category term="毛主席" scheme="http://www.xinyao.pub/tags/%E6%AF%9B%E4%B8%BB%E5%B8%AD/"/>
    
  </entry>
  
  <entry>
    <title>各城市房价的影响因素</title>
    <link href="http://www.xinyao.pub/2017/01/04/2017-01-04-house-price/"/>
    <id>http://www.xinyao.pub/2017/01/04/2017-01-04-house-price/</id>
    <published>2017-01-03T16:00:00.000Z</published>
    <updated>2019-05-12T12:57:36.829Z</updated>
    
    <content type="html"><![CDATA[<p>曾经用M2和信贷尝试解释过房价，但是存在共线性的问题，今天继续探索房价的影响因素。</p><a id="more"></a><p>只说结论：用 <em>工资</em> 和 <em>成交土地楼面价</em> 做自变量，<em>各城市房价</em> 做因变量，用线性回归可以拟合出一条较好的直线，R方也达到了0.9，假设房价为 $y$，工资为 $x_{1}$，楼面价为 $x_{2}$，则 $y = -9.972 \times 10^{3} + 2.767 \times 10^{-1} \times x_{1} + 1.262 \times x_{2}$</p><p>工资代表购买力，楼面价代表开发商的预期，同时会影响业主和客户的预期</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/房价与线性回归.png" alt></p><p>接着又尝试对比线性回归和svm的区别，谁好谁坏暂时说不出来，对不同的城市而言，两种方法各有千秋。<em>绿色</em> 代表 <em>实际值</em>，<em>蓝色</em> 代表 <em>svm</em>，<em>红色</em> 代表 <em>线性回归</em></p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/房价实际值和拟合值.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;曾经用M2和信贷尝试解释过房价，但是存在共线性的问题，今天继续探索房价的影响因素。&lt;/p&gt;
    
    </summary>
    
      <category term="房产" scheme="http://www.xinyao.pub/categories/%E6%88%BF%E4%BA%A7/"/>
    
    
      <category term="R" scheme="http://www.xinyao.pub/tags/R/"/>
    
      <category term="房价" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E4%BB%B7/"/>
    
      <category term="房产" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E4%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>城市人口增长得分</title>
    <link href="http://www.xinyao.pub/2016/12/27/2016-12-27-city-population/"/>
    <id>http://www.xinyao.pub/2016/12/27/2016-12-27-city-population/</id>
    <published>2016-12-26T16:00:00.000Z</published>
    <updated>2019-05-12T12:48:10.779Z</updated>
    
    <content type="html"><![CDATA[<p>用城市的 <strong>常住人口</strong> 衡量 <strong>人口增长</strong> 会有很大缺陷。拿北京举例，没有居住证的人口不会统计到常住人口里，2015年北京的常住人口2100万，实际生活在北京的人口估计在3000万左右。这些人一样是在北京消费的。<strong>移动电话出账用户数</strong> 是有电话账单的用户数，可以很好的修正人口增长，但是数据无法获得（需要三家运营商的数据），所以折衷选择 <strong>移动电话用户数</strong> (这样会无可避免的带入 <strong>僵尸户</strong> 等影响数据的准确性)</p><a id="more"></a><h1 id="常住人口"><a href="#常住人口" class="headerlink" title="常住人口"></a>常住人口</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/resident_population.png" alt></p><h1 id="移动电话用户数"><a href="#移动电话用户数" class="headerlink" title="移动电话用户数"></a>移动电话用户数</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/mobile_users.png" alt></p><h1 id="人口增长得分"><a href="#人口增长得分" class="headerlink" title="人口增长得分"></a>人口增长得分</h1><p>人口增长得分是将 <em>常住人口增长率</em> 和 <em>移动电话用户增长率</em> 进行标准化，加权平均算出每个城市的得分，再将得分排序，最后得到 <strong>人口增长得分</strong>。<em>人口增长得分</em> 越高，代表人口增长的越多。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/population_rank.png" alt></p><h1 id="合肥人口增长的动力"><a href="#合肥人口增长的动力" class="headerlink" title="合肥人口增长的动力"></a>合肥人口增长的动力</h1><p>我们看到合肥的人口增长得分最高，很自然的想到合肥 <em>火箭般上涨的房价</em> 。那么合肥的人口为什么增长迅速呢，动力是什么？这个是我们接下来想要尝试解答的问题。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hefei1.png" alt></p><p>上图看出，合肥 <em>常住人口</em> 的大幅增长主要有两个时期，2010年 和 2011年 。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hefei2.png" alt></p><p>上图看出，合肥 <em>移动电话用户</em> 的大幅增长也是在 2010年 和 2011年 发生 。说明合肥的人口增长的主要时期就是 2010~2011年 。</p><ul><li>先看2011年：2011年合肥 <em>常住人口</em> 同比增长180万人，<em>移动电话用户</em> 同比增长170万人，数据非常吻合。原因是2011年地级市巢湖拆分，县级市巢湖和庐江县并入了合肥。2010年全国人口普查数据显示，县级市巢湖78万人，庐江县97万人，加起来一共175万人。可以说</li></ul><blockquote><p>2011年合肥人口增长源于并入了县级巢湖市和庐江县</p></blockquote><ul><li>再看2010年：2010年合肥GDP同比增长28.5%，增幅巨大</li></ul><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hefei3.png" alt></p><p>2010年合肥第三产业GDP同比增长25%，增幅巨大</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hefei4.png" alt></p><p>但是2010年合肥第三产业占比是下降的，所以经济增长的推动不是第三产业</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hefei5.png" alt></p><p>2010年拉动合肥经济增长的是 <em>第二产业</em> 。2012年可以看成是合肥经济发展的分水岭，2012年以前合肥靠工业拉动，2012年以后合肥向服务业转型。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hefei6.png" alt></p><p>这样解释或许合理，2010年合肥工业增长迅速，安徽其他地市的人选择走出家门，到合肥打工，导致合肥2010年人口增长迅速。但是总体来说，安徽是个劳务输出大省，常住人口比户籍人口少800万左右，大部分的人到了比合肥更有竞争力的上海。合肥需要大力发展，增加竞争力，抢回那些用脚投票的人。</p><h1 id="小学生在校数"><a href="#小学生在校数" class="headerlink" title="小学生在校数"></a>小学生在校数</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/primary_students.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用城市的 &lt;strong&gt;常住人口&lt;/strong&gt; 衡量 &lt;strong&gt;人口增长&lt;/strong&gt; 会有很大缺陷。拿北京举例，没有居住证的人口不会统计到常住人口里，2015年北京的常住人口2100万，实际生活在北京的人口估计在3000万左右。这些人一样是在北京消费的。&lt;strong&gt;移动电话出账用户数&lt;/strong&gt; 是有电话账单的用户数，可以很好的修正人口增长，但是数据无法获得（需要三家运营商的数据），所以折衷选择 &lt;strong&gt;移动电话用户数&lt;/strong&gt; (这样会无可避免的带入 &lt;strong&gt;僵尸户&lt;/strong&gt; 等影响数据的准确性)&lt;/p&gt;
    
    </summary>
    
      <category term="经济学" scheme="http://www.xinyao.pub/categories/%E7%BB%8F%E6%B5%8E%E5%AD%A6/"/>
    
    
      <category term="城市" scheme="http://www.xinyao.pub/tags/%E5%9F%8E%E5%B8%82/"/>
    
      <category term="人口" scheme="http://www.xinyao.pub/tags/%E4%BA%BA%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>房地产抑制政策何时会出？</title>
    <link href="http://www.xinyao.pub/2016/12/16/2016-12-16-real-estate-policy/"/>
    <id>http://www.xinyao.pub/2016/12/16/2016-12-16-real-estate-policy/</id>
    <published>2016-12-15T16:00:00.000Z</published>
    <updated>2019-05-12T03:53:08.213Z</updated>
    
    <content type="html"><![CDATA[<p>房价快速上涨的时候，上车的欢喜，没上车的愁，ZF为了照顾劳苦大众的情绪，总会象征性的出点抑制政策。以下是2007年以来的主要的抑制政策：</p><ul><li>2007年9月，二套房首付提升至50%</li><li>2009年12月，个人住房转让营业税免征时限由2年恢复到5年</li><li>2010年4月，“新国十条”，差别化信贷政策；“京十二条”，北京家庭只能新购一套商品房</li><li>2013年3月，“京十九条”，二手房20%个税</li><li>2013年4月，二套首付7成</li><li>2016年9月，提高首付比例，重启“70/90”</li></ul><p>下面用不同的方法来拟合 <strong>是否出抑制政策</strong>，<code>1</code>代表是，<code>0</code>代表否</p><a id="more"></a><h1 id="logistic回归"><a href="#logistic回归" class="headerlink" title="logistic回归"></a>logistic回归</h1><p>logistic回归学习，请参见<a href="http://www.xinyao.pub/2016/06/14/logistic-regression/">R语言与二分类logistic回归</a></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(readxl)</span><br><span class="line"><span class="keyword">library</span>(lubridate)</span><br><span class="line"><span class="keyword">library</span>(ggplot2)</span><br><span class="line">setwd(<span class="string">"/Users/lixinyao/Desktop"</span>)</span><br><span class="line">mydata = read_excel(<span class="string">"月度全市场量价07年到16年.xlsx"</span>,sheet = <span class="number">1</span>,</span><br><span class="line">                    col_types = rep(<span class="string">"text"</span>,<span class="number">3</span>))</span><br><span class="line">head(mydata)</span><br><span class="line">mydata$月 = ymd(<span class="number">20061201</span>) + months(<span class="number">1</span>:length(mydata$月))</span><br><span class="line">mydata$网签量 = as.numeric(mydata$网签量)</span><br><span class="line">mydata$成交均价 = round(as.numeric(mydata$成交均价),<span class="number">0</span>)</span><br><span class="line">mydata$月 = str_trim(mydata$月)</span><br><span class="line"><span class="comment"># 是否出政策</span></span><br><span class="line">mydata$政策 = <span class="literal">NULL</span></span><br><span class="line">month = c(<span class="string">"2007-09-01"</span>,<span class="string">"2009-12-01"</span>,</span><br><span class="line">          <span class="string">"2010-04-01"</span>,<span class="string">"2013-03-01"</span>,</span><br><span class="line">          <span class="string">"2013-04-01"</span>,<span class="string">"2016-09-01"</span>)</span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(mydata$月))&#123;</span><br><span class="line">  <span class="keyword">if</span>(mydata$月[i] %<span class="keyword">in</span>% month) mydata$政策[i] = <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span> mydata$政策[i] = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># logistic</span></span><br><span class="line">logistic.fit = glm(政策~网签量+成交均价,</span><br><span class="line">              binomial(link = <span class="string">"logit"</span>),</span><br><span class="line">              data = mydata)</span><br><span class="line">mydata$logitpre = predict(logistic.fit)</span><br><span class="line">mydata$logitpre = ifelse(mydata$logitpre&gt;-<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>查看拟合结果，分类准确率为 $\frac{109+4}{109+2+2+4} = 96.58\%$ ，实际无政策，预测有政策的时点为 <em>2009年11月</em>、<em>2016年3月</em>；实际有政策，预测无政策的时点为 <em>2007年9月</em>、<em>2013年4月</em></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; table(mydata$政策,mydata$logitpre)</span><br><span class="line">      <span class="number">0</span>   <span class="number">1</span></span><br><span class="line">  <span class="number">0</span> <span class="number">109</span>   <span class="number">2</span></span><br><span class="line">  <span class="number">1</span>   <span class="number">2</span>   <span class="number">4</span></span><br></pre></td></tr></table></figure><h1 id="svm"><a href="#svm" class="headerlink" title="svm"></a>svm</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(e1071)</span><br><span class="line">mydata = mydata %&gt;% select(-logitpre)</span><br><span class="line">svm.fit = svm(政策~.,data = mydata)</span><br><span class="line">mydata$svmpre = predict(svm.fit)</span><br><span class="line">mydata$svmpre = ifelse(mydata$svmpre&gt;<span class="number">0.025</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>分类准确率为100%</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; table(mydata$政策,mydata$svmpre)</span><br><span class="line">      <span class="number">0</span>   <span class="number">1</span></span><br><span class="line">  <span class="number">0</span> <span class="number">111</span>   <span class="number">0</span></span><br><span class="line">  <span class="number">1</span>   <span class="number">0</span>   <span class="number">6</span></span><br></pre></td></tr></table></figure><p>当svmpre值大于0.025时，政府就会出抑制政策</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/SVR.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;房价快速上涨的时候，上车的欢喜，没上车的愁，ZF为了照顾劳苦大众的情绪，总会象征性的出点抑制政策。以下是2007年以来的主要的抑制政策：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2007年9月，二套房首付提升至50%&lt;/li&gt;
&lt;li&gt;2009年12月，个人住房转让营业税免征时限由2年恢复到5年&lt;/li&gt;
&lt;li&gt;2010年4月，“新国十条”，差别化信贷政策；“京十二条”，北京家庭只能新购一套商品房&lt;/li&gt;
&lt;li&gt;2013年3月，“京十九条”，二手房20%个税&lt;/li&gt;
&lt;li&gt;2013年4月，二套首付7成&lt;/li&gt;
&lt;li&gt;2016年9月，提高首付比例，重启“70/90”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面用不同的方法来拟合 &lt;strong&gt;是否出抑制政策&lt;/strong&gt;，&lt;code&gt;1&lt;/code&gt;代表是，&lt;code&gt;0&lt;/code&gt;代表否&lt;/p&gt;
    
    </summary>
    
      <category term="房产" scheme="http://www.xinyao.pub/categories/%E6%88%BF%E4%BA%A7/"/>
    
    
      <category term="房产" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E4%BA%A7/"/>
    
      <category term="政策" scheme="http://www.xinyao.pub/tags/%E6%94%BF%E7%AD%96/"/>
    
      <category term="房地产政策" scheme="http://www.xinyao.pub/tags/%E6%88%BF%E5%9C%B0%E4%BA%A7%E6%94%BF%E7%AD%96/"/>
    
  </entry>
  
  <entry>
    <title>R语言与svm分类</title>
    <link href="http://www.xinyao.pub/2016/12/16/2016-12-16-svm/"/>
    <id>http://www.xinyao.pub/2016/12/16/2016-12-16-svm/</id>
    <published>2016-12-15T16:00:00.000Z</published>
    <updated>2019-05-12T12:14:02.924Z</updated>
    
    <content type="html"><![CDATA[<p>支持向量机(support vector machine)缩写为”svm”，是机器学习方法的重要组成。本文介绍用R语言解决svm分类的流程</p><a id="more"></a><h1 id="svm简介"><a href="#svm简介" class="headerlink" title="svm简介"></a>svm简介</h1><p>假如想要将<code>iris</code>数据集的<code>setosa</code>和<code>versicolor</code>分开，有无数种方法（有无数条直线或者曲线）。但似乎 <strong>红色这条线</strong> 的鲁棒性最强，对点波动的容忍度更高，而且直观上看，<strong>红色这条线</strong> 也在两堆点的正中间。</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/svm1.png" alt></p><h1 id="函数间隔"><a href="#函数间隔" class="headerlink" title="函数间隔"></a>函数间隔</h1><p>假设超平面 $f(x) = w^{T}x + b$ ，当f(x)&gt;0时，y为正类(+1)，f(x)&lt;0时，y为反类(-1)。而且分类正确的条件是，f(x)和y同号，即 $f(x)y$ 为正。则定义 <strong>函数间隔</strong> 为 $\widehat{\gamma }=y(w^{T}x + b) = yf(x)$ 。由于w和b同时变动时，超平面不变 $(w^{T}x + b = 0)$ ，但是 <strong>函数间隔</strong> 会变化，所以函数衡量只能衡量分类是否正确，无法找出最完美的分割线。下面引出 <strong>几何间隔</strong> ，能很好的解决这个问题</p><h1 id="几何间隔"><a href="#几何间隔" class="headerlink" title="几何间隔"></a>几何间隔</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/svm3.png" alt></p><p>如上图所示，r是x0到x的距离，$(w^{T}x + b = 0)$ 是超平面，w是法向量。则</p><script type="math/tex; mode=display">x = x_{0} + r\frac{w}{\left \| w \right \|}</script><p>$\left | w \right |$ 是单位长度的法向量，也称为 <strong>模</strong></p><p>上式两边同乘以 $w^{T}$，可得 $w^{T}x = w^{T}x_{0} + r\frac{w^{2}}{\left | w \right |}$ ，由于x0在超平面上，所以 $w^{T}x_{0}+b=0$ ，则 $\gamma =\frac{w^{T}x+b}{\left | w \right |}=\frac{f(x)}{\left | w \right |}$ ，但 $\gamma$ 有可能为负，将绝对值 $\gamma$ 写为：</p><script type="math/tex; mode=display">\widetilde{\gamma } = y\gamma =\frac{\widehat{\gamma }}{f(x)} * \frac{f(x)}{\left | w \right |} = \frac{\widehat{\gamma }}{\left | w \right |}</script><p>可以清楚的看到 <strong>几何间隔</strong> 不会随着w和b的变化而改变，最大间隔分类超平面中的 <strong>间隔</strong> 指的是几何间隔。</p><h1 id="最大间隔分类器"><a href="#最大间隔分类器" class="headerlink" title="最大间隔分类器"></a>最大间隔分类器</h1><p>最大间隔分类器的目标函数变成：$max \widehat{\gamma }$ ，同时满足 $y_{i}(w^{T}x_{i}+b)= \widehat{\gamma _{i}}  \geqslant  \widehat{\gamma }$</p><p>如果令函数间隔 $\widehat{\gamma } = 1$ ，则目标函数变为 $max\frac{1}{\left | w \right |}$ 且 $y_{i}(w^{T}x_{i}+b) \geqslant 1$ ，满足的 $y_{i}(w^{T}x_{i}+b) = 1$ 的点称为 <strong>支持向量</strong></p><h1 id="R包实现"><a href="#R包实现" class="headerlink" title="R包实现"></a>R包实现</h1><p>用SVM将<code>iris</code>数据集的<code>setosa</code>、<code>versicolor</code>、<code>virginica</code>分类，下图的分类边界即是 <strong>支持向量</strong></p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/svm2.png" alt></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># svm实现iris数据集分类</span></span><br><span class="line">iris_subset = iris[,<span class="number">3</span>:<span class="number">5</span>] <span class="comment"># 筛选Petal.Length,Petal.Width,Species</span></span><br><span class="line">model = svm(Species~.,iris_subset) <span class="comment"># svm model</span></span><br><span class="line">iris_subset$svmpre = predict(model) <span class="comment"># svm预测值，等同于fit</span></span><br><span class="line">gridRange = apply(iris_subset[c(<span class="string">'Petal.Width'</span>,<span class="string">'Petal.Length'</span>)],<span class="number">2</span>,range) <span class="comment">#两个变量的最大和最小值</span></span><br><span class="line">x1 = seq(gridRange[<span class="number">1</span>,<span class="number">1</span>],gridRange[<span class="number">2</span>,<span class="number">1</span>],by=(gridRange[<span class="number">2</span>,<span class="number">1</span>]-gridRange[<span class="number">1</span>,<span class="number">1</span>])/<span class="number">100</span>)</span><br><span class="line">x2 = seq(gridRange[<span class="number">1</span>,<span class="number">2</span>],gridRange[<span class="number">2</span>,<span class="number">2</span>],by=(gridRange[<span class="number">2</span>,<span class="number">2</span>]-gridRange[<span class="number">1</span>,<span class="number">2</span>])/<span class="number">100</span>)</span><br><span class="line">grid = expand.grid(Petal.Width = x1,Petal.Length = x2)</span><br><span class="line">grid$class = predict(model,grid)</span><br><span class="line">ggplot(<span class="literal">NULL</span>) +</span><br><span class="line">  geom_point(data = iris_subset,</span><br><span class="line">             aes(Petal.Width,Petal.Length,</span><br><span class="line">                 color = Species,</span><br><span class="line">                 shape = Species)) +</span><br><span class="line">  geom_point(data = grid,</span><br><span class="line">             aes(Petal.Width,Petal.Length,</span><br><span class="line">                 color = as.factor(class)),</span><br><span class="line">             size = <span class="number">1.5</span>,</span><br><span class="line">             alpha = <span class="number">0.05</span>,</span><br><span class="line">             show.legend = <span class="literal">FALSE</span>) +</span><br><span class="line">  scale_color_brewer(palette = <span class="string">"Set1"</span>) +</span><br><span class="line">  scale_x_continuous(expand = c(<span class="number">0</span>,<span class="number">0</span>)) +</span><br><span class="line">  scale_y_continuous(expand = c(<span class="number">0</span>,<span class="number">0</span>)) +</span><br><span class="line">  ggtitle(<span class="string">"svm for iris"</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;支持向量机(support vector machine)缩写为”svm”，是机器学习方法的重要组成。本文介绍用R语言解决svm分类的流程&lt;/p&gt;
    
    </summary>
    
      <category term="R" scheme="http://www.xinyao.pub/categories/R/"/>
    
    
      <category term="R" scheme="http://www.xinyao.pub/tags/R/"/>
    
      <category term="svm" scheme="http://www.xinyao.pub/tags/svm/"/>
    
  </entry>
  
  <entry>
    <title>2016年终总结</title>
    <link href="http://www.xinyao.pub/2016/12/14/2016-12-14-2016-review/"/>
    <id>http://www.xinyao.pub/2016/12/14/2016-12-14-2016-review/</id>
    <published>2016-12-13T16:00:00.000Z</published>
    <updated>2019-05-12T03:36:09.661Z</updated>
    
    <content type="html"><![CDATA[<p>2016年对国家来说是不太好过的，但对于我来说是收获颇丰的。首先是收获了爱情，其次是收获了见识。在这一年里发生了很多事，有行业的变化，有工作的变动，也有学习方向的变化。以前的我是个 <strong>实践者</strong>，表现在实现有意思的、好玩的技术，这个说实话没有什么含量，基本就是模仿；现在的我想要努力的变成一个 <strong>思考者</strong>，希望自己对生活和工作都多一些思考，多一些自己的见解和想法。</p><p>2016年一直在房地产行业，那就谈谈房地产吧</p><a id="more"></a><h1 id="房地产行业的分类"><a href="#房地产行业的分类" class="headerlink" title="房地产行业的分类"></a>房地产行业的分类</h1><p>房地产行业分为 <strong>新房、二手房、租赁</strong> 三部分。</p><ol><li><strong>新房</strong> 是开发商主导的市场。由开发商拿地、开发、新房代理商销售。由于开发商的利润率基本是固定的，所以新房的价格基本上由土地的价格决定</li><li><strong>二手房</strong> 是中介（二手房经纪公司）主导的市场。主要是中介获取房源和客源，然后进行房客的匹配，赚取中介费。二手房的价格是供需关系决定</li><li><strong>租赁</strong> 和二手房类似，也是房客匹配的过程，租赁价格也是供需关系决定</li></ol><h1 id="房地产行业的市场"><a href="#房地产行业的市场" class="headerlink" title="房地产行业的市场"></a>房地产行业的市场</h1><p>房地产行业市场很大。GMV达16万亿（新房:二手:租赁 = 10:5:1），占GDP的23%，是阿里巴巴GMV的5倍。下图有助于理解房地产市场有多大：</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/GMV.png" alt></p><p>房地产交易总体上是低频、客单价高的市场。大多数人一辈子只买1～2套房，每一次几乎要花掉自己的大部分资产</p><p>房地产交易是非标准化的交易。每套房子都有每套房子自己的特点，和标准化的网上购物不一样，房地产不光商品不一样、而且交易的流程也有可能千差万别</p><p>房地产行业是服务有待改善的行业。大部分人在租房的时候或多或少都被坑过，对中介怨气连连，在线下的购房环节也有各种各样的不确定因素导致心理的落差，抱怨服务的不好</p><p>经纪人是流动性非常大的职位。这一点和其它的销售型岗位类似，离职率非常高，平均年龄都在20多岁</p><p>存量房市场以改善型需求为主。学区房、小户型换大户型、近换远</p><h1 id="二手房交易"><a href="#二手房交易" class="headerlink" title="二手房交易"></a>二手房交易</h1><p>现在大家都在提 <strong>存量房时代</strong>，二手房交易量/新房交易量 &gt; 1 即代表进入了以二手房为主导的存量市场。一线城市由于对人才的吸引力强导致房屋需求旺盛，土地供应不足导致新房紧张而且地段偏远等原因，已经提前进入了存量房时代。新一线城市也即将进入存量房时代。但是广大的二三四线城市还处于 <strong>去库存</strong> 的阶段</p><h1 id="二手房交易流程"><a href="#二手房交易流程" class="headerlink" title="二手房交易流程"></a>二手房交易流程</h1><p>准备买房 -&gt; 看房选房 -&gt; 买卖双方资质审核 -&gt; 签订合同 -&gt; 房屋评估 -&gt; 网签 -&gt; 面签 -&gt; 银行审批 -&gt; 缴税过户 -&gt; 下房本 -&gt; 物业交割 -&gt; 产权抵押银行放款</p><h1 id="二手房市场的影响因素"><a href="#二手房市场的影响因素" class="headerlink" title="二手房市场的影响因素"></a>二手房市场的影响因素</h1><ol><li>整体而言，影响二手房交易量和交易价的主要因素是供需关系，以下因素都在影响供需关系：<ul><li>M2：国家印钞多了，持有大量货币的人为了避免通货膨胀，会把钱投入到相对保值的房地产市场</li><li>土地：地王会通过改变人们心理预期的方式来影响周围的房价</li><li>政策：限购政策（外地5年社保一套、本地单身一套、家庭二套）、限贷政策（银行限制贷款给开发商、提高购房人的首付比例、首套二套的认定标准）</li><li>利率：贷款利率的高低影响还贷额</li><li>缴税：影响买方购房能力</li><li>汇率：影响钱的流向</li></ul></li><li>对单个房屋而言，影响价格的主要因素是房屋的位置，比如是不是学区房、位于哪个区域、周边配套怎么样。地铁主要影响的是租赁的价格</li></ol><p>PS：供需关系还分结构，比如分面积段、居室段、价格段等。房地产市场的供需关系不太稳定，拿需求讲有强需求（现在必须买）、一般需求（什么时候买都行）、弱需求（买或不买都可以），导致预测房价困难很大</p><h1 id="二手房市场周期"><a href="#二手房市场周期" class="headerlink" title="二手房市场周期"></a>二手房市场周期</h1><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/trade price.png" alt></p><h1 id="我的贡献"><a href="#我的贡献" class="headerlink" title="我的贡献"></a>我的贡献</h1><ol><li>前期数据库的建设：主要有新增房、新增客、存量、带看、调价、成交、贷款、税费等数据，还包括一些wind的数据，取数用<code>WindR</code>包，详情参见<a href="http://www.xinyao.pub/2016/03/14/wind-r/">R连接Wind数据库</a></li><li>报表的制作：主要由<code>DT</code>、<code>shiny</code>、<code>RMySQL</code>、<code>dplyr</code>实现，基本是数据处理的操作</li><li>换房轨迹和看房轨迹（以小区为单位）：主要由<code>REmap</code>、<code>leaflet</code>实现，主要是看用户为什么换房、用户去哪里；客户看房热点、路线及所看房屋的特征，详情参见<a href="http://www.xinyao.pub/2016/09/10/remap/">REmap(0.3.2)有个bug～</a></li><li>词云：热点商圈、小区等：<code>wordcloud2</code>实现，参见附录</li><li>不同年代客户特征，参见附录</li><li>简单的爬虫实现，参见附录</li><li>R语言入门beamer，参见<a href="https://github.com/lixinyao/blogpictures/blob/master/pdf/R语言入门.pdf" target="_blank" rel="noopener">R语言入门.pdf</a></li><li>年初的自动化报告，参见<a href="https://github.com/lixinyao/blogpictures/blob/master/pdf/线下城市新增房源核实.pdf" target="_blank" rel="noopener">线下城市新增房源核实.pdf</a></li><li>年初的薪酬绩效测算回报，基本是照猫画虎的，参见《薪酬设计与绩效考核全案》，2013年赵国军版</li><li>30篇博客，参见<a href="http://www.xinyao.pub/archives/">http://www.xinyao.pub/archives/</a></li></ol><h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="词云"><a href="#词云" class="headerlink" title="词云"></a>词云</h2><p>比如北京2016年1～9月的热门楼盘：</p><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/hotresblock.png" alt></p><p><code>mydata3</code>数据有两列，一列是楼盘名称、一列是成交量</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(wordcloud2)</span><br><span class="line">colorvec = rep(c(<span class="string">"#d91e2e"</span>,<span class="string">"#f84461"</span>,<span class="string">"#fc9d9a"</span>,<span class="string">"#f4bfc0"</span>,<span class="string">"#8aabca"</span>,<span class="string">"#5ba9d7"</span>,<span class="string">"#558ed5"</span>,<span class="string">"#345c93"</span>),</span><br><span class="line">length.out=nrow(mydata3))</span><br><span class="line">wordcloud2(mydata3,fontWeight = <span class="string">"bold"</span>,color = colorvec,backgroundColor = <span class="string">"#444444"</span>)</span><br></pre></td></tr></table></figure><h2 id="不同年代客户特征"><a href="#不同年代客户特征" class="headerlink" title="不同年代客户特征"></a>不同年代客户特征</h2><p><img src="https://raw.githubusercontent.com/lixinyao/blogpictures/master/pictures/2016/70_80_90.png" alt></p><ol><li>50、60、70后购房需求逐渐减弱</li><li>80后是现阶段购房的主力军</li><li>90后的接盘能力逐渐变强</li></ol><p><strong>80后主要从50、60后手里购入了学区房</strong></p><p>客户年代为 <strong>80后</strong> ：</p><div class="table-container"><table><thead><tr><th style="text-align:center">年份</th><th style="text-align:center">业主年代</th><th style="text-align:center">活跃楼盘</th></tr></thead><tbody><tr><td style="text-align:center">2014</td><td style="text-align:center">50</td><td style="text-align:center">模式口西里;育新花园;芍药居北里</td></tr><tr><td style="text-align:center">2015</td><td style="text-align:center">50</td><td style="text-align:center">芍药居北里;康静里;松榆西里</td></tr><tr><td style="text-align:center">2016</td><td style="text-align:center">50</td><td style="text-align:center">模式口西里;芍药居北里;慧忠里</td></tr><tr><td style="text-align:center">2014</td><td style="text-align:center">60</td><td style="text-align:center">育新花园;北京像素北区;车站北里</td></tr><tr><td style="text-align:center">2015</td><td style="text-align:center">60</td><td style="text-align:center">芍药居北里;荣丰2008;育新花园</td></tr><tr><td style="text-align:center">2016</td><td style="text-align:center">60</td><td style="text-align:center">北广家园;芍药居北里;海特花园小区</td></tr></tbody></table></div><ul><li>模式口西里:学区房。石景山小学</li><li>育新花园:学区房。首都师范大学附属育新学校小学部</li><li>芍药居北里:学区房。中国人民大学附属中学朝阳学校小学部</li><li>康静里:学区房。北京师范大学奥林匹克花园实验小学</li><li>慧忠里:学区房。北京市朝阳外国语学校慧忠里校区</li><li>车站北里:学区房。北京市大兴区第八小学</li><li>荣丰2008:学区房。北京小学天宁寺分校</li><li>北广家园:学区房。北京市西城区五路通小学</li><li>松榆西里:学区房。垂杨柳中心小学</li><li>海特花园小区:学区房。海特小学</li></ul><p><strong>70后主要从90后手里购入了高端房</strong></p><p>客户年代为 <strong>70后</strong> ：</p><div class="table-container"><table><thead><tr><th style="text-align:center">年份</th><th style="text-align:center">业主年代</th><th style="text-align:center">活跃楼盘</th></tr></thead><tbody><tr><td style="text-align:center">2014</td><td style="text-align:center">90</td><td style="text-align:center">龙湖唐宁one;万年花城四期;新中关公寓</td></tr><tr><td style="text-align:center">2015</td><td style="text-align:center">90</td><td style="text-align:center">万达大湖公馆;保利茉莉公馆;宝石花苑</td></tr><tr><td style="text-align:center">2016</td><td style="text-align:center">90</td><td style="text-align:center">观湖国际;天创世缘;银河湾</td></tr></tbody></table></div><p>上述小区都是偏豪宅化的</p><h2 id="简单的爬虫实现"><a href="#简单的爬虫实现" class="headerlink" title="简单的爬虫实现"></a>简单的爬虫实现</h2><p>关于爬虫，以前写过一个关于<code>rvest</code>的博客：<a href="http://www.xinyao.pub/2016/05/17/r-rvest/">rvest爬取简单的网页信息</a></p><p>现在更新一个爬取 <strong>城市天气信息</strong> 的代码，网址是 <a href="http://lishi.tianqi.com/" target="_blank" rel="noopener">http://lishi.tianqi.com/</a></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(RCurl)</span><br><span class="line"><span class="keyword">library</span>(XML)</span><br><span class="line"><span class="keyword">library</span>(stringr)</span><br><span class="line"><span class="keyword">library</span>(rvest)</span><br><span class="line"><span class="keyword">library</span>(dplyr)</span><br><span class="line">base_url = <span class="string">"http://lishi.tianqi.com/"</span> <span class="comment">#基本网址</span></span><br><span class="line">linklist = getHTMLLinks(base_url) <span class="comment">#获取网址里全部链接</span></span><br></pre></td></tr></table></figure><p>取出城市的链接地址，把所有的链接地址都处理成类似<code>http://lishi.tianqi.com/beijing/</code>的格式</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linklist = linklist[str_detect(linklist,<span class="string">"/index.html"</span>)] <span class="comment">#获取城市的链接</span></span><br><span class="line">linklist = str_sub(linklist,<span class="number">1</span>,-<span class="number">11</span>) <span class="comment">#去除index.html</span></span><br></pre></td></tr></table></figure><p>生成类似<code>201610.html</code>的序列</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">datelist = seq.Date(as.Date(<span class="string">"2011-01-01"</span>),</span><br><span class="line">                    as.Date(<span class="string">"2016-11-30"</span>),</span><br><span class="line">                    by = <span class="string">"month"</span>) <span class="comment"># 生成日期序列</span></span><br><span class="line">datelist = datelist %&gt;%</span><br><span class="line">  str_sub(<span class="number">1</span>,<span class="number">7</span>) %&gt;%</span><br><span class="line">  str_replace_all(<span class="string">"-"</span>,<span class="string">""</span>) %&gt;%</span><br><span class="line">  str_c(<span class="string">".html"</span>,sep = <span class="string">""</span>) <span class="comment"># 生成.html序列</span></span><br></pre></td></tr></table></figure><p>生成类似<code>http://lishi.tianqi.com/beijing/201610.html</code>的序列，3000多个城市和地区的每月天气网址都大同小异</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">url_list = <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(linklist))&#123;</span><br><span class="line">  <span class="keyword">for</span>(j <span class="keyword">in</span> <span class="number">1</span>:length(datelist))&#123;</span><br><span class="line">      url_list[i*j] = str_c(linklist[i],datelist[j],sep = <span class="string">""</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="comment"># linklist和datelist拼接</span></span><br></pre></td></tr></table></figure><p>解析网址</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解析网址</span></span><br><span class="line">page_list = lapply(url_list,<span class="keyword">function</span>(url)&#123;</span><br><span class="line">  <span class="keyword">tryCatch</span>(</span><br><span class="line">    url %&gt;% read_html(),error = <span class="keyword">function</span>(e)&#123;<span class="literal">NA</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">na.omit.list = <span class="keyword">function</span>(y)&#123;<span class="keyword">return</span>(y[!sapply(y,<span class="keyword">function</span>(x) all(is.na(x)))])&#125;</span><br><span class="line">page_list = na.omit.list(page_list)</span><br><span class="line">mydata = list(<span class="literal">NULL</span>)</span><br><span class="line">mydata$data = lapply(page_list,<span class="keyword">function</span>(x)&#123;</span><br><span class="line">  <span class="keyword">tryCatch</span>(</span><br><span class="line">    matrix(x %&gt;% html_nodes(<span class="string">".tqtongji2"</span>) %&gt;% html_text() %&gt;%</span><br><span class="line">             str_replace_all(<span class="string">"[\r\n\t]"</span>,<span class="string">""</span>) %&gt;% str_trim() %&gt;%</span><br><span class="line">             str_split(<span class="string">"\\s+"</span>) %&gt;% unlist() %&gt;%</span><br><span class="line">             as.vector(),ncol = <span class="number">6</span>,byrow = <span class="literal">T</span>) %&gt;% as.data.frame(),</span><br><span class="line">    error = <span class="keyword">function</span>(e)&#123;<span class="literal">NA</span>&#125;)&#125;)</span><br><span class="line">mydata$city = lapply(page_list,<span class="keyword">function</span>(x)&#123;</span><br><span class="line">  x %&gt;% html_nodes(<span class="string">"#footer a:nth-child(1)"</span>) %&gt;% html_text()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(page_list))&#123;</span><br><span class="line">  <span class="keyword">if</span>(!is.na(mydata$data[[i]])) mydata$city[[i]] = mydata$city[[i]]</span><br><span class="line">  <span class="keyword">else</span> mydata$city[[i]] = <span class="literal">NA</span></span><br><span class="line">&#125; <span class="comment">#去除NA值</span></span><br><span class="line">mydata$data = na.omit.list(mydata$data)</span><br><span class="line">mydata$city = na.omit.list(mydata$city)</span><br></pre></td></tr></table></figure><p><code>mydata</code>即为生成的数据框，包括7列，<code>日期</code>、<code>最高气温</code>、<code>最低气温</code>、<code>天气</code>、<code>风向</code>、<code>风力</code>、<code>城市</code>。从2011年开始至2016年11月，一共200多万条数据</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(mydata$data))&#123;</span><br><span class="line">  mydata$data[[i]]$V7 = rep(mydata$city[[i]],length(mydata$data[[i]]$V1))</span><br><span class="line">&#125; <span class="comment">#添加城市名</span></span><br><span class="line">mydata = mydata$data</span><br><span class="line">mydata = do.call(rbind,mydata) <span class="comment"># 合并数据</span></span><br><span class="line">mydata$V7 = str_sub(mydata$V7,<span class="number">1</span>,-<span class="number">5</span>)</span><br><span class="line">mydata = mydata %&gt;%</span><br><span class="line">  filter(V1 != <span class="string">"日期"</span>) %&gt;%</span><br><span class="line">  rename(</span><br><span class="line">    日期=V1,</span><br><span class="line">    最高气温=V2,</span><br><span class="line">    最低气温=V3,</span><br><span class="line">    天气=V4,</span><br><span class="line">    风向=V5,</span><br><span class="line">    风力=V6,</span><br><span class="line">    城市=V7)</span><br></pre></td></tr></table></figure><blockquote><p>上述代码是我初学时写的，质量不高，以后有时间进行优化</p></blockquote><h1 id="17年计划简陋版"><a href="#17年计划简陋版" class="headerlink" title="17年计划简陋版"></a>17年计划简陋版</h1><ol><li>仔细研究周志华的《机器学习》，把每个算法都弄清楚，并且用R进行实现</li><li>了解市场和行业，用机器学习的方法得出有意思的结论</li><li>对博客进行进一步的整理完善</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2016年对国家来说是不太好过的，但对于我来说是收获颇丰的。首先是收获了爱情，其次是收获了见识。在这一年里发生了很多事，有行业的变化，有工作的变动，也有学习方向的变化。以前的我是个 &lt;strong&gt;实践者&lt;/strong&gt;，表现在实现有意思的、好玩的技术，这个说实话没有什么含量，基本就是模仿；现在的我想要努力的变成一个 &lt;strong&gt;思考者&lt;/strong&gt;，希望自己对生活和工作都多一些思考，多一些自己的见解和想法。&lt;/p&gt;
&lt;p&gt;2016年一直在房地产行业，那就谈谈房地产吧&lt;/p&gt;
    
    </summary>
    
      <category term="生活" scheme="http://www.xinyao.pub/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="2016" scheme="http://www.xinyao.pub/tags/2016/"/>
    
      <category term="年终总结" scheme="http://www.xinyao.pub/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
</feed>
